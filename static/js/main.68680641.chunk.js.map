{"version":3,"sources":["utils/numberWithSeparator.js","store/transformHelpers.js","utils/randomInteger.js","services/moviesApi.js","pages/Home/components/Intro.js","pages/Home/components/Slider.js","pages/Home/Home.js","components/CardContainer.js","components/Paginatior.js","store/pagesSlice.js","layout/ScrollToTop.js","store/authSlice.js","components/AuthModal.js","components/SkeletonCard.js","assets/poster-placeholder.png","components/FavoriteButton.js","store/moviesSlice.js","components/LazyLoadWrapper.js","components/MovieCard.js","components/PagePlaceholder.js","assets/404-not-found.png","components/SkeletonCardLayout.js","pages/Catalog.js","assets/no-favorites.svg","pages/Favorite.js","store/searchSlice/searchSlice.js","utils/validators.js","hooks/useUpdatedEffect.js","layout/constants.js","components/Suggest.js","components/SearchBar.js","utils/debounce.js","components/RootLogo.js","layout/Header.js","components/NavLinks.js","layout/SideBar.js","assets/tmdb.svg","layout/Footer.js","layout/Layout.js","pages/Movie/components/Intro.js","components/TabsContainer.js","components/Gallery.js","pages/Movie/components/TabLoader.js","pages/Movie/components/ImagesTab.js","pages/Movie/components/TrailersTab.js","components/ActorCard.js","pages/Movie/components/ActorsTab.js","pages/Movie/components/SimilarTab.js","pages/Movie/components/RecommendationsTab.js","pages/Movie/Movie.js","store/appSlice.js","pages/SignIn.js","pages/SignUp.js","components/PrivateRoute.js","assets/search_error.png","pages/SearchResults.js","store/searchSlice/genres.js","pages/ExtendedSearch/components/SelectFilterWrapper.js","pages/ExtendedSearch/components/GenresFilter.js","pages/ExtendedSearch/components/YearsFilter.js","pages/ExtendedSearch/ExtendedSearch.js","pages/Actor/components/Intro.js","pages/Actor/components/PhotosTab.js","pages/Actor/components/MoviesTab.js","pages/Actor/Actor.js","components/ExtendedSearchCard.js","assets/no-search-history.png","pages/History.js","App.js","reportWebVitals.js","utils/storage.js","store/middlewares/localStorage.js","store/middlewares/authRequired.js","store/store.js","index.js"],"names":["numberWithSeparator","number","separator","parts","toString","split","replace","join","standardMovieTransform","movie","poster","poster_path","IMG_URL","genres","genre_ids","release","release_date","title","id","rating","vote_average","votesCount","vote_count","overview","transformGetIntroMovie","response","result","results","min","max","rand","Math","random","floor","randomInteger","transformGetMovies","totalPages","total_pages","totalResults","total_results","map","transformGetMoviesById","genre","name","reverse","tagline","countries","production_countries","country","runtime","budget","revenue","companies","production_companies","company","transformGetActorById","biography","birthday","deathday","birthplace","place_of_birth","photo","profile_path","transformGetMovieImages","backdrops","item","file_path","posters","transformGetActorImages","profiles","transformGetActorMovies","cast","filter","transformGetMovieTrailers","youtubeVideoId","key","transformGetActorsQuery","character","API_KEY","BASE_DISCOVER_URL","moviesApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","endpoints","build","getIntroMovie","query","keepUnusedDataFor","transformResponse","getMovies","list","page","getMovieById","getActorById","getMovieImages","getActorImages","getActorMovies","getMovieTrailers","getActors","getSimilar","getRecommendations","searchMovieByName","searchMovies","year","_year","_genres","length","useGetMoviesQuery","useGetIntroMovieQuery","useGetMovieByIdQuery","useGetMovieImagesQuery","useGetMovieTrailersQuery","useGetActorsQuery","useLazySearchMovieByNameQuery","useGetActorByIdQuery","useGetActorImagesQuery","useGetActorMoviesQuery","useGetSimilarQuery","useGetRecommendationsQuery","useLazySearchMoviesQuery","useStyles","makeStyles","theme","introSection","marginBottom","wrapper","position","display","alignItems","margin","backgroundPosition","backgroundSize","backgroundRepeat","height","content","inset","zIndex","backdropFilter","background","text","width","padding","ratingWrapper","imageWrapper","image","paddingLeft","spacing","Intro","s","data","isSuccess","className","style","backgroundImage","to","src","alt","Typography","variant","gutterBottom","color","Rating","value","readOnly","slider","minHeight","maxHeight","heading","justifyContent","link","transition","palette","secondary","main","arrowsWrapper","arrow","backgroundColor","borderColor","border","cursor","borderRadius","Slider","moviesData","spaceBetween","slidesPerView","navigation","nextEl","prevEl","scrollbar","breakpoints","noWrap","slot","marginRight","type","classnames","SwiperCore","use","Navigation","Scrollbar","Lazy","slidersConfig","Home","CardContainer","children","Grid","container","flexGrow","Paginator","count","handlePageChange","Pagination","size","onChange","pagesSlice","createSlice","initialState","reducers","initPages","state","payload","Object","keys","forEach","storeCurrentPage","pagesReducer","reducer","actions","ScrollToTop","deps","useEffect","window","scrollTo","top","behavior","authSlice","isSignedIn","isAuthModalOpened","currentUser","users","initAuth","signin","email","password","signout","setAuthModalOpened","signup","toast","success","authReducer","AuthModal","history","useHistory","isModalOpened","useSelector","auth","dispatch","useDispatch","Dialog","open","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","onClick","push","autoFocus","left","right","bottom","overflow","paddingTop","cardLoader","textLoader","SkeletonCard","Skeleton","favoriteBtn","FavoriteButton","checked","IconButton","moviesSlice","favorites","initFavorites","toggleFavorites","warn","clearFavorites","moviesReducer","isInFavorites","LazyLoadWrapper","delay","component","useState","show","setShow","timeout","setTimeout","clearTimeout","root","opacity","transform","imageRendering","aspectRatio","backfaceVisibility","hiddenImage","visibleImage","MovieCard","movies","path","isImgReady","setIsImgReady","xs","md","lg","xl","CardActions","Boolean","Link","BrowserLink","noPoster","onLoad","e","marginTop","flexDirection","PagePlaceholder","loader","SkeletonCardLayout","cardsCount","skeletonItems","Array","fill","_","i","_circle","_path","Catalog","useParams","isFetching","isError","pagesCount","notFound404","Number","_excluded","_extends","assign","target","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgNoFavorites","_ref","svgRef","titleId","props","viewBox","xmlns","ref","cx","cy","r","d","ForwardRef","Favorite","favoritesArray","values","searchSlice","isSearchFetching","searchResults","searchResultsCount","suggestResults","selectedGenres","enteredYear","filterQuery","isYearValid","initHistory","setInputQuery","setSearchFetching","setSearchResults","setSuggestResults","setGenres","setYear","setYearValidity","minYear","maxYear","Date","getFullYear","isNaN","validateYear","setFilterQuery","clearFilters","saveToHistory","clearHistory","setSearchResultsCount","searchReducer","useUpdatedEffect","callback","dependencies","firstRenderRef","useRef","current","sideBarWidth","overflowY","itemText","Suggest","List","pathname","fromSuggest","ListItem","button","ListItemText","toFixed","form","search","shape","alpha","common","white","marginLeft","searchIcon","pointerEvents","inputRoot","validInput","grey","light","inputInput","extendedSearch","extendedSearchIcon","SearchBar","setInputValidity","useLocation","isOnSearchPage","trigger","storedSuggestResults","inputRef","clearInput","param","blur","focus","sendRequest","cb","args","context","debounce","debouncedSendRequest","useCallback","onSubmit","InputBase","placeholder","classes","input","inputProps","onBlur","disableRipple","fontSize","logo","icon","RootLogo","mainPageSelected","grow","exitBtn","paddingBottom","toolbar","authBtn","BrightTooltip","withStyles","tooltip","boxShadow","shadows","Tooltip","Header","anchorEl","setAnchorEl","isMenuOpen","AppBar","elevation","Toolbar","placement","edge","currentTarget","LinearProgress","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","activeNav","listItemIcon","minWidth","listItemIconActive","listItem","mixins","NavLinks","linkItems","ListItemIcon","primary","appBar","drawer","flexShrink","drawerPaper","SideBar","lists","pages","historyItems","favoritesCount","historyItemsCount","Badge","badgeContent","Drawer","paper","anchor","Divider","_defs","_g","SvgTmdb","xmlnsXlink","y1","x2","y2","gradientUnits","offset","stopColor","undefined","footer","personal","maxWidth","line","lineHeight","Footer","Container","href","rel","Layout","mainWrapper","textWrapper","boxSizing","pointCell","verticalAlign","ROW_TITLES","createCellText","rowTitle","hint","active","flexWrap","TabsContainer","category","tab","selectedTab","findIndex","toLowerCase","index","tabTitle","gridTemplateColumns","gap","objectFit","controls","zoomIcon","Gallery","imgUrlsArray","isLightboxVisible","setLightboxVisibility","imageIndex","setImageIndex","url","newIndex","el","handleImageOpen","reactModalStyle","overlay","mainSrc","nextSrc","prevSrc","onCloseRequest","onMovePrevRequest","onMoveNextRequest","loaderWrapper","TabLoader","CircularProgress","ImagesTab","btn","TrailersTab","isOpen","setIsOpen","currentKey","setCurrentKey","channel","autoplay","videoId","alignSelf","card","fontWeight","ActorCard","ActorsTab","SimilarTab","RecommendationsTab","Movie","appSlice","init","appReducer","avatar","submit","validationSchema","yup","required","SignIn","formik","useFormik","initialValues","setFieldError","Avatar","noValidate","handleSubmit","TextField","fullWidth","label","autoComplete","handleChange","error","touched","errors","helperText","onMouseDown","firstName","lastName","SignUp","sm","PrivateRoute","Component","rest","render","SearchResults","storedSearchResult","queryParams","URLSearchParams","get","useLayoutEffect","fromFilters","noResultsImage","GENRES","StyledToggleButtonGroup","divider","grouped","ToggleButtonGroup","SelectFilterWrapper","Paper","toggleBtn","GenresFilter","event","newGenres","ToggleButton","YearsFilter","clear","buttonProgress","dark","ExtendedSearch","shouldDisableBtn","disabled","PhotosTab","MoviesTab","Actor","info","chipWrapper","chip","action","ExtendedSearchCard","genreId","Chip","dictionary","History","searchHistoryItems","anyHistoryItems","searchItem","noSearchHistory","App","basename","exact","showModal","Slide","autoClose","hideProgressBar","rtl","pauseOnFocusLoss","draggable","pauseOnHover","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","storage","fallback","JSON","parse","localStorage","getItem","setItem","stringify","localStorageMiddleware","store","next","authenticated","getState","match","personalFavorites","storedPages","storedUsers","storedIsSignedIn","storedCurrentUser","storedFavorites","storedHistory","personalHistory","authRequiredActionTypes","authRequiredMiddleware","notAuthenticated","actionRequiresAuth","includes","configureStore","app","middleware","getDefaultMiddleware","concat","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.68680641.chunk.js","sourcesContent":["/**\r\n * @param number - number to transform\r\n * @param separator - numbers will be separated by this. Default separator - space\r\n * @returns {string}\r\n * @type {(number : number, separator : string) => string}\r\n * example: 1000000 => 1 000 000\r\n * example: 1000000.45 => 1 000 000.45\r\n **/\r\nexport function numberWithSeparator(number, separator = ' ') {\r\n\tconst parts = number.toString().split('.')\r\n\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, separator)\r\n\treturn parts.join('.')\r\n}\r\n","import {IMG_URL} from '../services/moviesApi'\r\nimport {numberWithSeparator} from '../utils/numberWithSeparator'\r\nimport {randomInteger} from '../utils/randomInteger'\r\n\r\nconst standardMovieTransform = movie => {\r\n\treturn {\r\n\t\tposter: movie.poster_path ? IMG_URL + movie.poster_path : null,\r\n\t\tgenres: movie.genre_ids,\r\n\t\trelease: movie.release_date,\r\n\t\ttitle: movie.title,\r\n\t\tid: movie.id,\r\n\t\trating: movie.vote_average,\r\n\t\tvotesCount: movie.vote_count,\r\n\t\toverview: movie.overview,\r\n\t}\r\n}\r\n\r\nexport const transformGetIntroMovie = response => {\r\n\tconst result =  response.results[randomInteger(0, 19)]\r\n\treturn standardMovieTransform(result)\r\n}\r\n\r\nexport const transformGetMovies = response => {\r\n\tconst totalPages = response.total_pages\r\n\tconst totalResults = response.total_results\r\n\tconst updated = response.results.map(standardMovieTransform)\r\n\r\n\treturn {totalPages, results: updated, totalResults}\r\n}\r\n\r\nexport const transformGetMoviesById = response => {\r\n\treturn {\r\n\t\tposter: response.poster_path ? IMG_URL + response.poster_path : null,\r\n\t\tgenres: response.genres.map(genre => genre.name).join(', '),\r\n\t\trelease: response.release_date?.split('-').reverse().join('.'),\r\n\t\toverview: response.overview,\r\n\t\ttitle: response.title,\r\n\t\tid: response.id,\r\n\t\ttagline: response.tagline,\r\n\t\tcountries: response.production_countries.map(country => country.name).join(', '),\r\n\t\trating: response.vote_average + ' / 10',\r\n\t\tvotesCount: response.vote_count,\r\n\t\truntime: response.runtime + ' min',\r\n\t\tbudget: numberWithSeparator(response.budget) + '$',\r\n\t\trevenue: numberWithSeparator(response.revenue) + '$',\r\n\t\tcompanies: response.production_companies.map(company => company.name).join(', ')\r\n\t}\r\n}\r\n\r\nexport const transformGetActorById = response => {\r\n\treturn {\r\n\t\tbiography: response.biography,\r\n\t\tbirthday: response.birthday?.split('-').reverse().join('.'),\r\n\t\tdeathday: response.deathday,\r\n\t\tname: response.name,\r\n\t\tbirthplace: response.place_of_birth,\r\n\t\tphoto: IMG_URL + response.profile_path\r\n\t}\r\n}\r\n\r\nexport const transformGetMovieImages = response => {\r\n\treturn [\r\n\t\t...response.backdrops.map(item => IMG_URL + item.file_path),\r\n\t\t...response.posters.map(item => IMG_URL + item.file_path)\r\n\t]\r\n}\r\n\r\nexport const transformGetActorImages = response => {\r\n\treturn response.profiles.map(item => IMG_URL + item.file_path)\r\n}\r\n\r\nexport const transformGetActorMovies = response => {\r\n\treturn response?.cast\r\n\t\t.filter(movie => movie.poster_path)\r\n\t\t.map(standardMovieTransform)\r\n}\r\n\r\nexport const transformGetMovieTrailers = response => {\r\n\treturn response.results.map(item => ({youtubeVideoId: item.key}))\r\n}\r\n\r\nexport const transformGetActorsQuery = response => {\r\n\treturn response.cast\r\n\t\t.filter(item => item.profile_path)\r\n\t\t.map(item => ({\r\n\t\t\tposter: IMG_URL + item.profile_path,\r\n\t\t\tname: item.name,\r\n\t\t\tcharacter: item.character,\r\n\t\t\tid: item.id\r\n\t\t}))\r\n}\r\n","/**\r\n * @param min - minimum number\r\n * @param max - maximum number\r\n * @returns {number}\r\n * example randomInteger(1, 3) => randomly returns numbers 1 || 2 || 3\r\n */\r\n\r\nexport function randomInteger(min, max) {\r\n\tlet rand = min + Math.random() * (max + 1 - min)\r\n\treturn Math.floor(rand)\r\n}\r\n","import {createApi, fetchBaseQuery} from '@reduxjs/toolkit/query/react'\r\nimport {\r\n\ttransformGetActorById, transformGetActorImages, transformGetActorMovies,\r\n\ttransformGetActorsQuery, transformGetIntroMovie,\r\n\ttransformGetMovieImages,\r\n\ttransformGetMovies,\r\n\ttransformGetMoviesById,\r\n\ttransformGetMovieTrailers\r\n} from '../store/transformHelpers'\r\n\r\nconst API_KEY = 'api_key=9adffccf59c02bd0dc729c1d92ccd822'\r\nconst BASE_FILTER_PARAMS = 'language=en-US&include_adult=false&include_video=false&page=1'\r\nconst BASE_DISCOVER_URL = `discover/movie?${API_KEY}&${BASE_FILTER_PARAMS}`\r\nexport const IMG_URL = 'https://image.tmdb.org/t/p/w500'\r\n\r\nexport const moviesApi = createApi({\r\n\treducerPath: 'moviesApi',\r\n\tbaseQuery: fetchBaseQuery({baseUrl: 'https://api.themoviedb.org/3/'}),\r\n\tendpoints: (build) => ({\r\n\t\tgetIntroMovie: build.query({\r\n\t\t\tkeepUnusedDataFor: 0,\r\n\t\t\tquery: () => `movie/now_playing?${API_KEY}&language=en-US&page=1`,\r\n\t\t\ttransformResponse: transformGetIntroMovie,\r\n\t\t}),\r\n\t\tgetMovies: build.query({\r\n\t\t\tquery: ({list, page}) => `movie/${list}?${API_KEY}&language=en-US&page=${page}`,\r\n\t\t\ttransformResponse: transformGetMovies,\r\n\t\t}),\r\n\t\tgetMovieById: build.query({\r\n\t\t\tquery: (id) => `movie/${id}?${API_KEY}&language=en-US`,\r\n\t\t\ttransformResponse: transformGetMoviesById\r\n\t\t}),\r\n\t\tgetActorById: build.query({\r\n\t\t\tquery: (id) => `person/${id}?${API_KEY}&language=en-US`,\r\n\t\t\ttransformResponse: transformGetActorById\r\n\t\t}),\r\n\t\tgetMovieImages: build.query({\r\n\t\t\tquery: (id) => `movie/${id}/images?${API_KEY}&language=en`,\r\n\t\t\ttransformResponse: transformGetMovieImages\r\n\t\t}),\r\n\t\tgetActorImages: build.query({\r\n\t\t\tquery: (id) => `person/${id}/images?${API_KEY}`,\r\n\t\t\ttransformResponse: transformGetActorImages\r\n\t\t}),\r\n\t\tgetActorMovies: build.query({\r\n\t\t\tquery: (id) => `person/${id}/movie_credits?${API_KEY}`,\r\n\t\t\ttransformResponse: transformGetActorMovies\r\n\t\t}),\r\n\t\tgetMovieTrailers: build.query({\r\n\t\t\tquery: (id) => `movie/${id}/videos?${API_KEY}&language=en`,\r\n\t\t\ttransformResponse: transformGetMovieTrailers\r\n\t\t}),\r\n\t\tgetActors: build.query({\r\n\t\t\tquery: (id) => `movie/${id}/credits?${API_KEY}&language=en-US`,\r\n\t\t\ttransformResponse: transformGetActorsQuery\r\n\t\t}),\r\n\t\tgetSimilar: build.query({\r\n\t\t\tquery: (id) => `movie/${id}/similar?${API_KEY}&language=en-US`,\r\n\t\t\ttransformResponse: transformGetMovies\r\n\t\t}),\r\n\t\tgetRecommendations: build.query({\r\n\t\t\tquery: (id) => `movie/${id}/recommendations?${API_KEY}&language=en-US`,\r\n\t\t\ttransformResponse: transformGetMovies\r\n\t\t}),\r\n\t\tsearchMovieByName: build.query({\r\n\t\t\tquery: ({query, page}) => {\r\n\t\t\t\treturn `search/movie?${API_KEY}&language=en-US&query=${query}&page=${page}`\r\n\t\t\t},\r\n\t\t\ttransformResponse: transformGetMovies\r\n\t\t}),\r\n\t\tsearchMovies: build.query({\r\n\t\t\tquery: ({query, page, year, genres}) => {\r\n\t\t\t\tif (query) {\r\n\t\t\t\t\treturn `search/movie?${API_KEY}&language=en-US&query=${query}&page=${page}`\r\n\t\t\t\t}\r\n\t\t\t\tconst _year = year ? `&year=${year}` : ''\r\n\t\t\t\tconst _genres = genres.length ? `&with_genres=${genres}` : ''\r\n\t\t\t\treturn `${BASE_DISCOVER_URL}&page=${page}${_year}${_genres}&with_watch_monetization_types=flatrate`\r\n\t\t\t},\r\n\t\t\ttransformResponse: transformGetMovies\r\n\t\t}),\r\n\t})\r\n})\r\n\r\nexport const {\r\n\tuseGetMoviesQuery,\r\n\tuseGetIntroMovieQuery,\r\n\tuseGetMovieByIdQuery,\r\n\tuseGetMovieImagesQuery,\r\n\tuseGetMovieTrailersQuery,\r\n\tuseGetActorsQuery,\r\n\tuseLazySearchMovieByNameQuery,\r\n\tuseGetActorByIdQuery,\r\n\tuseGetActorImagesQuery,\r\n\tuseGetActorMoviesQuery,\r\n\tuseGetSimilarQuery,\r\n\tuseGetRecommendationsQuery,\r\n\tuseLazySearchMoviesQuery,\r\n\tgetIntroMovie\r\n} = moviesApi\r\n","import {useGetIntroMovieQuery} from '../../../services/moviesApi'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport {Typography} from '@material-ui/core'\r\nimport {Rating} from '@material-ui/lab'\r\nimport {Link as BrowserLink} from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tintroSection: {\r\n\t\tmarginBottom: 96\r\n\t},\r\n\twrapper: {\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tmargin: -24,\r\n\t\tbackgroundPosition: '50% 50%',\r\n\t\tbackgroundSize: 'cover',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\theight: 500,\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tposition: 'absolute',\r\n\t\t\tinset: 0,\r\n\t\t\tzIndex: 1,\r\n\t\t\tbackdropFilter: 'blur(20px) saturate(1.4)',\r\n\t\t\tbackground: 'linear-gradient(0deg, rgba(255,255,255,1) 3%, rgba(0,0,0,0) 100%)',\r\n\t\t},\r\n\t},\r\n\ttext: {\r\n\t\tposition: 'relative',\r\n\t\twidth: '40%',\r\n\t\tpadding: 50,\r\n\t\tzIndex: 2\r\n\t},\r\n\tratingWrapper: {\r\n\t\tdisplay: 'flex'\r\n\t},\r\n\trating: {\r\n\t\tmargin: '0 8px 16px 0',\r\n\t},\r\n\timageWrapper: {\r\n\t\tzIndex: 2,\r\n\t},\r\n\timage: {\r\n\t\tzIndex: 2,\r\n\t\theight: 420,\r\n\t\tdisplay: 'block',\r\n\t\tpaddingLeft: theme.spacing(3)\r\n\t}\r\n}))\r\n\r\nexport default function Intro() {\r\n\tconst s = useStyles()\r\n\tconst {data, isSuccess} = useGetIntroMovieQuery()\r\n\tconst {title, rating, overview, id} = isSuccess && data\r\n\r\n\treturn (\r\n\t\tisSuccess &&\r\n\t\t<section className={s.introSection}>\r\n\t\t\t<div className={s.wrapper} style={{backgroundImage: `url(${data.poster})`}}>\r\n\t\t\t\t<div className={s.imageWrapper}>\r\n\t\t\t\t\t<BrowserLink to={`/movie/${id}/images`}>\r\n\t\t\t\t\t\t<img src={data.poster} alt={data.title} className={s.image}/>\r\n\t\t\t\t\t</BrowserLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.text}>\r\n\t\t\t\t\t<Typography variant='h4' gutterBottom color='textPrimary'>\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<div className={s.ratingWrapper}>\r\n\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\tvalue={rating / 2}\r\n\t\t\t\t\t\t\treadOnly\r\n\t\t\t\t\t\t\tclassName={s.rating}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t{rating}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{overview}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t)\r\n}\r\n","import {Swiper, SwiperSlide} from 'swiper/react'\r\nimport SwiperCore, {Navigation, Scrollbar, Lazy} from 'swiper'\r\nimport 'swiper/swiper-bundle.min.css'\r\nimport {Link as BrowserLink} from 'react-router-dom'\r\nimport {useGetMoviesQuery} from '../../../services/moviesApi'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport {Typography} from '@material-ui/core'\r\nimport NavigateBeforeOutlinedIcon from '@material-ui/icons/NavigateBeforeOutlined'\r\nimport NavigateNextOutlinedIcon from '@material-ui/icons/NavigateNextOutlined'\r\nimport classnames from 'classnames'\r\n\r\nconst useStyles = makeStyles((theme => ({\r\n\twrapper: {\r\n\t\tmarginBottom: 96,\r\n\t\tposition: 'relative',\r\n\t\theight: '100%'\r\n\t},\r\n\tslider: {\r\n\t\tposition: 'static'\r\n\t},\r\n\timage: {\r\n\t\tminHeight: 180,\r\n\t\tdisplay: 'block',\r\n\t\tmaxHeight: 300\r\n\t},\r\n\theading: {\r\n\t\tmarginBottom: 8,\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'space-between',\r\n\t\talignItems: 'center'\r\n\t},\r\n\ttext: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'baseline',\r\n\t},\r\n\tlink: {\r\n\t\ttransition: 'color .3s ease',\r\n\t\t'&:hover': {\r\n\t\t\tcolor: theme.palette.secondary.main\r\n\t\t},\r\n\t},\r\n\tarrowsWrapper: {\r\n\t\tdisplay: 'flex',\r\n\t},\r\n\tarrow: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t\tbackgroundColor: 'inherit',\r\n\t\tborderColor: 'inherit',\r\n\t\tborder: 0,\r\n\t\theight: 40,\r\n\t\twidth: 40,\r\n\t\tcursor: 'pointer',\r\n\t\tborderRadius: '50%',\r\n\t\t'&:hover': {\r\n\t\t\tcolor: 'red'\r\n\t\t},\r\n\t\t'&:disabled:hover': {\r\n\t\t\tcolor: '#bdbcbc',\r\n\t\t\tcursor: 'default'\r\n\t\t}\r\n\t}\r\n})))\r\n\r\nSwiperCore.use([Navigation, Scrollbar, Lazy])\r\n\r\nexport default function Slider({title, list}) {\r\n\tconst s = useStyles()\r\n\tconst {isSuccess, data} = useGetMoviesQuery({list: list, page: 1})\r\n\tconst moviesData = data?.results\r\n\r\n\treturn (\r\n\t\tisSuccess &&\r\n\t\t\t<div className={s.wrapper}>\r\n\t\t\t\t<Swiper\r\n\t\t\t\t\tspaceBetween={16}\r\n\t\t\t\t\tslidesPerView={2}\r\n\t\t\t\t\tclassName={s.slider}\r\n\t\t\t\t\tnavigation={{\r\n\t\t\t\t\t\tnextEl: '.slider-arrow_next',\r\n\t\t\t\t\t\tprevEl: '.slider-arrow_prev',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tscrollbar={{\r\n\t\t\t\t\t\t'type': 'progressbar',\r\n\t\t\t\t\t\t'draggable': true\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tbreakpoints={{\r\n\t\t\t\t\t\t'1500': {\r\n\t\t\t\t\t\t\t'slidesPerView': 8,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t'1200': {\r\n\t\t\t\t\t\t\t'slidesPerView': 6,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t'1000': {\r\n\t\t\t\t\t\t\t'slidesPerView': 5,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t'823': {\r\n\t\t\t\t\t\t\t'slidesPerView': 4,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t'570': {\r\n\t\t\t\t\t\t\t'slidesPerView': 3,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{moviesData.map(movie => (\r\n\t\t\t\t\t\t<SwiperSlide key={movie.id}>\r\n\t\t\t\t\t\t\t<BrowserLink to={`/movie/${movie.id}/images`}>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\talt={movie.title}\r\n\t\t\t\t\t\t\t\t\tsrc={movie.poster}\r\n\t\t\t\t\t\t\t\t\tclassName={s.image}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</BrowserLink>\r\n\t\t\t\t\t\t\t<Typography variant='subtitle2' noWrap={true}>\r\n\t\t\t\t\t\t\t\t{movie.title}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</SwiperSlide>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t<div slot=\"container-start\" className={s.heading}>\r\n\t\t\t\t\t\t<div className={s.text}>\r\n\t\t\t\t\t\t\t<Typography variant='h5' style={{marginRight: 16}}>\r\n\t\t\t\t\t\t\t\t{title} movies\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<BrowserLink to={`/${list}/1`}>\r\n\t\t\t\t\t\t\t\t<Typography variant='inherit' className={s.link}>\r\n\t\t\t\t\t\t\t\t\tshow all\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</BrowserLink>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={s.arrowsWrapper}>\r\n\t\t\t\t\t\t\t<button type=\"button\" className={classnames('slider-arrow_prev', s.arrow)}>\r\n\t\t\t\t\t\t\t\t<NavigateBeforeOutlinedIcon className='slider-arrow_prev'/>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type=\"button\" className={classnames('slider-arrow_next', s.arrow)}>\r\n\t\t\t\t\t\t\t\t<NavigateNextOutlinedIcon/>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Swiper>\r\n\t\t\t</div>\r\n\t)\r\n}\r\n","import Intro from './components/Intro'\r\nimport Slider from './components/Slider'\r\n\r\nconst slidersConfig = [\r\n\t{title: 'Now playing', list: 'now_playing'},\r\n\t{title: 'Popular', list: 'popular'},\r\n\t{title: 'Top rated', list: 'top_rated'},\r\n\t{title: 'Upcoming', list: 'upcoming'},\r\n]\r\n\r\nexport default function Home() {\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Intro/>\r\n\t\t\t{slidersConfig.map(slider => (\r\n\t\t\t\t<Slider\r\n\t\t\t\t\tkey={slider.list}\r\n\t\t\t\t\ttitle={slider.title}\r\n\t\t\t\t\tlist={slider.list}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</>\r\n\t)\r\n}\r\n","import {Grid} from '@material-ui/core'\r\n\r\nexport default function CardContainer({children}) {\r\n\r\n  return (\r\n    <Grid container spacing={3} style={{flexGrow: 3}}>\r\n      {children}\r\n    </Grid>\r\n  )\r\n}\r\n","import Pagination from '@material-ui/lab/Pagination'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    margin: '30px 0 10px',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    flexGrow: 2,\r\n    alignItems: 'end'\r\n  }\r\n})\r\n\r\nexport default function Paginator({count, page, handlePageChange}) {\r\n  const s = useStyles()\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <Pagination\r\n        size='large'\r\n        variant=\"outlined\"\r\n        color=\"primary\"\r\n        count={count}\r\n        page={page}\r\n        onChange={handlePageChange}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","import {createSlice} from '@reduxjs/toolkit'\r\n\r\nconst initialState = {\r\n\t'now_playing': 1,\r\n\t'popular': 1,\r\n\t'top_rated': 1,\r\n\t'upcoming': 1\r\n}\r\n\r\nconst pagesSlice = createSlice({\r\n\tname: 'pages',\r\n\tinitialState,\r\n\treducers: {\r\n\t\tinitPages: (state, {payload}) => {\r\n\t\t\tif (payload) {\r\n\t\t\t\treturn Object.keys(payload).forEach(key => {\r\n\t\t\t\t\tstate[key] = payload[key]\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\treturn state\r\n\t\t},\r\n\t\tstoreCurrentPage: (state, {payload}) => {\r\n\t\t\tstate[payload.list] = payload.page\r\n\t\t},\r\n\t}\r\n})\r\n\r\nexport const pagesReducer = pagesSlice.reducer\r\nexport const {storeCurrentPage, initPages} = pagesSlice.actions\r\n","import {useEffect} from 'react'\r\n\r\nexport default function ScrollToTop({deps}) {\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.scrollTo({\r\n\t\t\ttop: 0,\r\n\t\t\tbehavior: \"smooth\"\r\n\t\t})\r\n\t}, [...deps])\r\n\r\n\treturn null\r\n}","import {createSlice} from '@reduxjs/toolkit'\r\nimport {toast} from 'react-toastify'\r\n\r\nconst initialState = {\r\n\tisSignedIn: false,\r\n\tisAuthModalOpened: false,\r\n\tcurrentUser: null,\r\n\tusers: {},\r\n}\r\n\r\nconst authSlice = createSlice({\r\n\tname: 'auth',\r\n\tinitialState,\r\n\treducers: {\r\n\t\tinitAuth: (state, {payload}) => {\r\n\t\t\tstate.users = payload.users || {}\r\n\t\t\tstate.isSignedIn = payload.isSignedIn || false\r\n\t\t\tstate.currentUser = payload.currentUser || null\r\n\t\t},\r\n\t\tsignin: (state, {payload}) => {\r\n\t\t\tconst email = state.users[payload.email]?.email\r\n\t\t\tconst password = state.users[payload.email]?.password\r\n\t\t\tif (email === payload.email && password === payload.password) {\r\n\t\t\t\tstate.isSignedIn = true\r\n\t\t\t\tstate.currentUser = email\r\n\t\t\t}\r\n\t\t},\r\n\t\tsignout: (state) => {\r\n\t\t\tstate.isSignedIn = false\r\n\t\t\tstate.currentUser = null\r\n\t\t},\r\n\t\tsetAuthModalOpened: (state, {payload}) => {\r\n\t\t\tstate.isAuthModalOpened = payload\r\n\t\t},\r\n\t\tsignup: (state, {payload}) => {\r\n\t\t\tif (!state.users[payload.email]) {\r\n\t\t\t\tstate.users[payload.email] = payload\r\n\t\t\t\ttoast.success('Account created successfully')\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n})\r\n\r\nexport const authReducer =  authSlice.reducer\r\nexport const {signin, signout, setAuthModalOpened, signup, initAuth} = authSlice.actions","import Button from '@material-ui/core/Button'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogContentText from '@material-ui/core/DialogContentText'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {setAuthModalOpened} from '../store/authSlice'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\nconst AUTH_MODAL_TEXT = 'In order to use all features of current application, please login or create a new account.'\r\n\r\nexport default function AuthModal({title = 'You must be signed in'}) {\r\n  const history = useHistory()\r\n  const isModalOpened = useSelector(state => state.auth.isAuthModalOpened)\r\n  const dispatch = useDispatch()\r\n  const handleClose = () => dispatch(setAuthModalOpened(false))\r\n\r\n  const handleSignInRedirect = () => {\r\n    history.push('/signin')\r\n    dispatch(setAuthModalOpened(false))\r\n  }\r\n  const handleSignUpRedirect = () => {\r\n    history.push('/signup')\r\n    dispatch(setAuthModalOpened(false))\r\n  }\r\n\r\n  return (\r\n    <Dialog\r\n      open={isModalOpened}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"authentication-dialog-title\"\r\n      aria-describedby=\"authentication-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"authentication-dialog-title\">{`${title}`}</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText id=\"authentication-dialog-description\">\r\n          {AUTH_MODAL_TEXT}\r\n        </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleSignInRedirect} color=\"primary\">Sign in</Button>\r\n        <Button onClick={handleSignUpRedirect} color=\"primary\" autoFocus>Sign up</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}\r\n","import {makeStyles} from '@material-ui/core/styles'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    height: 0,\r\n    top: 12,\r\n    left: 12,\r\n    right: 12,\r\n    bottom: 12,\r\n    overflow: \"hidden\",\r\n    paddingTop: '150.27%',\r\n    position: \"absolute\",\r\n  },\r\n  cardLoader: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 0,\r\n    width: '100%',\r\n    height: 'calc(100% - 34px)',\r\n    display: 'block'\r\n  },\r\n  textLoader: {\r\n    position: \"absolute\",\r\n    bottom: 12,\r\n    left: 0,\r\n    width: \"100%\",\r\n    height: 22\r\n  },\r\n})\r\n\r\nexport default function SkeletonCard() {\r\n  const s = useStyles()\r\n  return (\r\n    <div className={s.container}>\r\n      <Skeleton variant='rect' className={s.cardLoader}/>\r\n      <Skeleton variant='text' className={s.textLoader}/>\r\n    </div>\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/poster-placeholder.78f0fc92.png\";","import IconButton from '@material-ui/core/IconButton'\r\nimport FavoriteIcon from '@material-ui/icons/Favorite'\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\tfavoriteBtn: {\r\n\t\t\tcolor: '#FFF',\r\n\t\t\ttransition: 'all .3s ease',\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcolor: theme.palette.secondary.main\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n})\r\n\r\nexport default function FavoriteButton({checked, isSignedIn, onClick}) {\r\n\tconst s = useStyles()\r\n\r\n  return (\r\n\t\t<IconButton\r\n\t\t\taria-label=\"add to favorites\"\r\n\t\t\tsize='small'\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t{checked && isSignedIn\r\n\t\t\t\t? <FavoriteIcon color='secondary'/>\r\n\t\t\t\t: <FavoriteBorderIcon className={s.favoriteBtn}/>\r\n\t\t\t}\r\n\t\t</IconButton>\r\n  )\r\n}\r\n\r\nFavoriteButton.propTypes = {\r\n\tchecked: PropTypes.bool,\r\n\tisSignedIn: PropTypes.bool,\r\n\tonClick: PropTypes.func\r\n}\r\n","import {createSlice} from '@reduxjs/toolkit'\r\nimport {toast} from 'react-toastify'\r\n\r\nconst initialState = {\r\n\tfavorites: {},\r\n}\r\n\r\nconst moviesSlice = createSlice({\r\n\tname: 'movies',\r\n\tinitialState,\r\n\treducers: {\r\n\t\tinitFavorites: (state, {payload}) => {\r\n\t\t\tif (payload) {\r\n\t\t\t\tstate.favorites = {...payload}\r\n\t\t\t}\r\n\t\t\treturn state\r\n\t\t},\r\n\t\ttoggleFavorites: (state, {payload}) => {\r\n\t\t\tif (payload.currentUser) {\r\n\t\t\t\tif (state.favorites?.[payload.data.id]) {\r\n\t\t\t\t\tdelete state.favorites[payload.data.id]\r\n\t\t\t\t\ttoast.warn(`${payload.data.title} removed from favorites`)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstate.favorites = {\r\n\t\t\t\t\t\t...state.favorites,\r\n\t\t\t\t\t\t[payload.data.id]: payload.data\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttoast.success(`${payload.data.title} added to favorites`)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tclearFavorites: (state) => {\r\n\t\t\tObject.keys(state.favorites).forEach(key => {\r\n\t\t\t\tdelete state.favorites[key]\r\n\t\t\t})\r\n\t\t}\r\n\t},\r\n})\r\n\r\nexport const moviesReducer = moviesSlice.reducer\r\nexport const {toggleFavorites, initFavorites, clearFavorites, isInFavorites} = moviesSlice.actions","import {useEffect, useState} from 'react'\r\n\r\nexport default function LazyLoadWrapper({delay, component, children}) {\r\n\tconst [show, setShow] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst timeout = setTimeout(() => setShow(true), delay)\r\n\t\treturn () => clearTimeout(timeout)\r\n\t}, [delay])\r\n\r\n\treturn show ? component || children : null\r\n}","import {CardActions, Grid, Link, Typography} from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {Link as BrowserLink} from 'react-router-dom'\r\nimport {useState} from 'react'\r\nimport SkeletonCard from './SkeletonCard'\r\nimport noPoster from '../assets/poster-placeholder.png'\r\nimport classnames from 'classnames'\r\nimport FavoriteButton from './FavoriteButton'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {toggleFavorites} from '../store/moviesSlice'\r\nimport LazyLoadWrapper from './LazyLoadWrapper'\r\n\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tposition: 'relative',\r\n\t\t\t'& .appear-item': {\r\n\t\t\t\topacity: 0,\r\n\t\t\t},\r\n\t\t\t'&:hover .appear-item': {\r\n\t\t\t\topacity: 1\r\n\t\t\t},\r\n\t\t\t'&:hover .scale-item': {\r\n\t\t\t\ttransform: 'scale(1.05)'\r\n\t\t\t},\r\n\t\t},\r\n\t\tlink: {\r\n\t\t\tdisplay: 'block',\r\n\t\t\twidth: '100%',\r\n\t\t\t// height: 'calc(100% - 22px)'\r\n\t\t},\r\n\t\twrapper: {\r\n\t\t\toverflow: 'hidden',\r\n\t\t\twidth: '100%',\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: '150.27%',\r\n\t\t\tposition: 'relative'\r\n\t\t},\r\n\t\timage: {\r\n\t\t\timageRendering: '-webkit-optimize-contrast',\r\n\t\t\taspectRatio: '2/3',\r\n\t\t\tbackfaceVisibility: 'hidden',\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\ttransition: 'transform .3s ease-in-out, opacity .7s ease',\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%',\r\n\t\t\tdisplay: 'block',\r\n\t\t\t'&:hover': {\r\n\t\t\t\ttransform: 'scale(1.05)'\r\n\t\t\t}\r\n\t\t},\r\n\t\thiddenImage: {\r\n\t\t\topacity: 0,\r\n\t\t\ttransform: 'scale(.85)'\r\n\t\t},\r\n\t\tvisibleImage: {\r\n\t\t\topacity: 1,\r\n\t\t\ttransform: 'scale(1)'\r\n\t\t},\r\n\t\tactions: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tjustifyContent: 'end',\r\n\t\t\tinset: 12,\r\n\t\t\tzIndex: 1,\r\n\t\t\theight: 16,\r\n\t\t\tbackground: 'rgba(0,0,0,.5)',\r\n\t\t\ttransition: 'all .3s ease',\r\n\t\t\tbackdropFilter: 'blur(20px)',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nexport default function MovieCard({data}) {\r\n\tconst s = useStyles()\r\n\tconst isSignedIn = useSelector(state => state.auth.isSignedIn)\r\n\tconst currentUser = useSelector(state => state.auth.currentUser)\r\n\tconst favorites = useSelector(state => state.movies.favorites?.[data.id])\r\n\tconst dispatch = useDispatch()\r\n\tconst {poster, title, id, path} = data\r\n\tconst [isImgReady, setIsImgReady] = useState(false)\r\n\r\n\tconst onImgLoad = e => setIsImgReady(true)\r\n\tconst toggleSaved = () => {\r\n\t\tdispatch(toggleFavorites({currentUser, data}))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Grid item xs={6} md={4} lg={3} xl={2} className={s.root}>\r\n\t\t\t<CardActions className={classnames(s.actions, 'appear-item')}>\r\n\t\t\t\t<FavoriteButton\r\n\t\t\t\t\tisSignedIn={isSignedIn}\r\n\t\t\t\t\tonClick={toggleSaved}\r\n\t\t\t\t\tchecked={Boolean(favorites)}\r\n\t\t\t\t/>\r\n\t\t\t</CardActions>\r\n\t\t\t{!isImgReady &&\r\n\t\t\t\t<LazyLoadWrapper delay={500}>\r\n\t\t\t\t\t<SkeletonCard />\r\n\t\t\t\t</LazyLoadWrapper>\r\n\t\t\t}\r\n\t\t\t<Link component={BrowserLink} to={path || `/movie/${id}/images`} className={s.link}>\r\n\t\t\t\t<div className={s.wrapper}>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={poster || noPoster}\r\n\t\t\t\t\t\tclassName={classnames(s.image, 'scale-item', isImgReady ? s.visibleImage : s.hiddenImage)}\r\n\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\tonLoad={onImgLoad}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t\t{isImgReady &&\r\n\t\t\t\t<Typography variant='subtitle2' noWrap>\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</Typography>\r\n\t\t\t}\r\n\t\t</Grid>\r\n\t)\r\n}\r\n","import {Typography} from '@material-ui/core'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n  return {\r\n    wrapper: {\r\n      display: 'flex',\r\n      marginTop: '10%',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      maxHeight: 300\r\n    },\r\n  }\r\n})\r\n\r\nexport default function PagePlaceholder({image, text}) {\r\n  const s = useStyles()\r\n  return (\r\n    <div className={s.wrapper}>\r\n      {typeof image === 'object'\r\n        ? image\r\n        : <img src={image} alt=\"\"/>\r\n      }\r\n      <Typography variant='h2' color='textSecondary'>\r\n        {text}\r\n      </Typography>\r\n    </div>\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/404-not-found.12af02e8.png\";","import Skeleton from '@material-ui/lab/Skeleton'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport CardContainer from './CardContainer'\r\nimport {Grid} from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tloader: {\r\n\t\taspectRatio: '2/3',\r\n\t\twidth: '100%',\r\n\t\theight: '100%'\r\n\t}\r\n}))\r\n\r\nexport default function SkeletonCardLayout({cardsCount}) {\r\n\tconst s = useStyles()\r\n\tconst skeletonItems = Array(cardsCount).fill('').map((_, i) => (\r\n\t\t<Grid item xs={6} md={4} lg={3} xl={2} key={i}>\r\n\t\t\t<Skeleton variant='rect' className={s.loader}/>\r\n\t\t\t<Skeleton variant='text'/>\r\n\t\t</Grid>\r\n\t))\r\n\r\n  return <CardContainer>{skeletonItems}</CardContainer>\r\n}","import {useHistory, useParams} from 'react-router-dom/cjs/react-router-dom'\r\nimport {useGetMoviesQuery} from '../services/moviesApi'\r\nimport CardContainer from '../components/CardContainer'\r\nimport Paginator from '../components/Paginatior'\r\nimport {useDispatch} from 'react-redux'\r\nimport {storeCurrentPage} from '../store/pagesSlice'\r\nimport {useEffect} from 'react'\r\nimport ScrollToTop from '../layout/ScrollToTop'\r\nimport AuthModal from '../components/AuthModal'\r\nimport MovieCard from '../components/MovieCard'\r\nimport PagePlaceholder from '../components/PagePlaceholder'\r\nimport notFound404 from '../assets/404-not-found.png'\r\nimport SkeletonCardLayout from '../components/SkeletonCardLayout'\r\n\r\nexport const CARDS_PER_REQUEST = 20\r\n\r\nexport default function Catalog() {\r\n  const {list, page} = useParams()\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n  const {data, isFetching, isError} = useGetMoviesQuery({list, page})\r\n  const pagesCount = data?.totalPages\r\n  const moviesData = data?.results\r\n\r\n  const handlePageChange = (e, page) => history.push(`/${list}/${page}`)\r\n\r\n  useEffect(() => {\r\n    page > pagesCount\r\n      ? dispatch(storeCurrentPage({list, page: 1}))\r\n      : dispatch(storeCurrentPage({list, page}))\r\n  }, [list, page])\r\n\r\n  if (isFetching) {\r\n    return (\r\n      <>\r\n        <ScrollToTop deps={[list, page]}/>\r\n        <SkeletonCardLayout cardsCount={CARDS_PER_REQUEST}/>\r\n      </>\r\n    )\r\n  }\r\n\r\n  if (isError || page > pagesCount) {\r\n    return (\r\n      <PagePlaceholder\r\n        image={notFound404}\r\n      />\r\n    )\r\n  }\r\n\r\n  return (\r\n    moviesData?.length > 0 &&\r\n      <>\r\n        <ScrollToTop deps={[list, page]}/>\r\n        <CardContainer>\r\n          {moviesData.map(movie => (\r\n            <MovieCard\r\n              data={movie}\r\n              key={movie.id}\r\n              id={movie.id}\r\n            />\r\n          ))}\r\n        </CardContainer>\r\n        <Paginator\r\n          count={pagesCount}\r\n          page={Number(page > pagesCount ? 1 : page)}\r\n          handlePageChange={handlePageChange}\r\n        />\r\n        <AuthModal/>\r\n      </>\r\n  )\r\n}\r\n","var _circle, _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgNoFavorites(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 626,\n    height: 626,\n    viewBox: \"0 0 626 626\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 313,\n    cy: 313,\n    r: 313,\n    fill: \"#3F51B5\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M476.241 313.35C446.445 370.8 366.735 448.932 321.659 490.552C316.812 494.938 309.442 494.938 304.596 490.552C259.265 448.932 179.555 370.8 149.759 313.35C84.3093 186.96 249.333 102.7 313 229.09C376.667 102.7 541.691 186.96 476.241 313.35Z\",\n    fill: \"white\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNoFavorites);\nexport default __webpack_public_path__ + \"static/media/no-favorites.53feb0d5.svg\";\nexport { ForwardRef as ReactComponent };","import CardContainer from '../components/CardContainer'\r\nimport {useSelector} from 'react-redux'\r\nimport PagePlaceholder from '../components/PagePlaceholder'\r\nimport {ReactComponent as NoFavorites} from '../assets/no-favorites.svg'\r\nimport MovieCard from '../components/MovieCard'\r\n\r\nexport default function Favorite() {\r\n  const favorites = useSelector(state => state.movies.favorites)\r\n  const favoritesArray = favorites && Object.values(favorites)\r\n\r\n  return (\r\n    <>\r\n      {!favoritesArray?.length &&\r\n        <PagePlaceholder\r\n          image={<NoFavorites/>}\r\n          text='No favorites yet'\r\n        />\r\n      }\r\n      <CardContainer>\r\n        {favoritesArray && favoritesArray.map(movie => (\r\n          <MovieCard\r\n            type='movie'\r\n            data={movie}\r\n            key={movie.id}\r\n            id={movie.id}\r\n          />\r\n        ))}\r\n      </CardContainer>\r\n    </>\r\n  )\r\n}\r\n","import {createSlice} from '@reduxjs/toolkit'\r\nimport {validateYear} from '../../utils/validators'\r\n\r\nconst initialState = {\r\n\tquery: '',\r\n\tisSearchFetching: false,\r\n\tsearchResults: null,\r\n\tsearchResultsCount: null,\r\n\tsuggestResults: null,\r\n\tselectedGenres: [],\r\n\tenteredYear: '',\r\n\tfilterQuery: {},\r\n\tisYearValid: true,\r\n\thistory: {}\r\n}\r\n\r\nconst searchSlice = createSlice({\r\n\tname: 'search',\r\n\tinitialState,\r\n\treducers: {\r\n\t\tinitHistory: (state, {payload}) => {\r\n\t\t\tif (payload) {\r\n\t\t\t\tstate.history = payload\r\n\t\t\t}\r\n\t\t\treturn state\r\n\t\t},\r\n\t\tsetInputQuery: (state, {payload}) => {\r\n\t\t\tstate.query = payload\r\n\t\t},\r\n\t\tsetSearchFetching: (state, {payload}) => {\r\n\t\t\tstate.isSearchFetching = payload\r\n\t\t},\r\n\t\tsetSearchResults: (state, {payload}) => {\r\n\t\t\tstate.searchResults = payload\r\n\t\t},\r\n\t\tsetSuggestResults: (state, {payload}) => {\r\n\t\t\tstate.suggestResults = payload\r\n\t\t},\r\n\t\tsetGenres: (state, {payload}) => {\r\n\t\t\tstate.selectedGenres = payload\r\n\t\t},\r\n\t\tsetYear: (state, {payload}) => {\r\n\t\t\tstate.enteredYear = payload\r\n\t\t},\r\n\t\tsetYearValidity: (state, {payload}) => {\r\n\t\t\tstate.isYearValid = validateYear(payload, 1959)\r\n\t\t\tif (payload === '') {\r\n\t\t\t\tstate.isYearValid = true\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetFilterQuery: (state) => {\r\n\t\t\tstate.filterQuery.genres = state.selectedGenres.join(',')\r\n\t\t\tstate.filterQuery.year = state.enteredYear\r\n\t\t},\r\n\t\tclearFilters: (state) => {\r\n\t\t\tstate.selectedGenres = []\r\n\t\t\tstate.enteredYear = ''\r\n\t\t\tstate.filterQuery = {}\r\n\t\t\tstate.isYearValid = true\r\n\t\t},\r\n\t\tsaveToHistory: (state, {payload}) => {\r\n\t\t\tconst {\r\n\t\t\t\tid,\r\n\t\t\t\tpath,\r\n\t\t\t\tcurrentUser,\r\n\t\t\t\tposter,\r\n\t\t\t\tgenres,\r\n\t\t\t\tyear,\r\n\t\t\t\ttype,\r\n\t\t\t\ttitle\r\n\t\t\t} = payload\r\n\r\n\t\t\tif (currentUser) {\r\n\t\t\t\tif (state.history?.[currentUser]?.[id]) {\r\n\t\t\t\t\treturn state\r\n\t\t\t\t}\r\n\t\t\t\tstate.history = {\r\n\t\t\t\t\t...state.history,\r\n\t\t\t\t\t[id]: {id, path, poster, genres, year, type, title}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tclearHistory: (state) => {\r\n\t\t\tObject.keys(state.history).forEach(key => {\r\n\t\t\t\tdelete state.history[key]\r\n\t\t\t})\r\n\t\t},\r\n\t\tsetSearchResultsCount: (state, {payload}) => {\r\n\t\t\tstate.searchResultsCount = payload\r\n\t\t}\r\n\t}\r\n})\r\n\r\nexport const searchReducer =  searchSlice.reducer\r\nexport const {\r\n\tsetInputQuery,\r\n\tsetSearchFetching,\r\n\tsetSearchResults,\r\n\tsetSuggestResults,\r\n\tsetGenres,\r\n\tsetFilterQuery,\r\n\tclearFilters,\r\n\tsetYear,\r\n\tsetYearValidity,\r\n\tsaveToHistory,\r\n\tinitHistory,\r\n\tclearHistory,\r\n\tsetSearchResultsCount\r\n} = searchSlice.actions\r\n","/**\r\n *\r\n * @param value : number\r\n * @param minYear : number\r\n * @param maxYear : number - optional. Default value -current year\r\n * @returns {boolean}\r\n * example validateYear(2000, 1900) => true\r\n * example validateYear(2000, 2020) => false\r\n */\r\nexport function validateYear(value, minYear, maxYear = new Date().getFullYear()) {\r\n\treturn !isNaN(value) && value > minYear && value < maxYear\r\n}","import {useEffect, useRef} from \"react\"\r\n\r\nexport default function useUpdatedEffect(callback, dependencies) {\r\n\tconst firstRenderRef = useRef(true)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (firstRenderRef.current) {\r\n\t\t\tfirstRenderRef.current = false\r\n\t\t\treturn\r\n\t\t}\r\n\t\treturn callback()\r\n\t}, dependencies)\r\n}\r\n","export const headerHeight = 64\r\nexport const sideBarWidth = 240\r\n","import {makeStyles} from '@material-ui/core/styles'\r\nimport List from '@material-ui/core/List'\r\nimport {Link as BrowserLink} from 'react-router-dom'\r\nimport {ListItem, ListItemText, Typography} from '@material-ui/core'\r\nimport noPoster from '../assets/poster-placeholder.png'\r\nimport {headerHeight, sideBarWidth} from '../layout/constants'\r\n\r\nconst useStyles = makeStyles(theme =>{\r\n  return {\r\n    container: {\r\n      backgroundColor: '#665ede3b',\r\n      backdropFilter: 'blur(30px)',\r\n      position: 'absolute',\r\n      top: headerHeight,\r\n      left: sideBarWidth,\r\n      right: 0,\r\n      maxHeight: 400,\r\n      overflowY: 'auto',\r\n    },\r\n    image: {\r\n      height: 80,\r\n      marginRight: 24\r\n    },\r\n    itemText: {\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    }\r\n  }\r\n})\r\n\r\nexport default function Suggest({moviesData, onClick}) {\r\n  const s = useStyles()\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <List >\r\n        {moviesData.length > 0 && moviesData.map(movie => (\r\n          <BrowserLink\r\n            key={movie.id}\r\n            to={{\r\n              pathname: `/movie/${movie.id}/images`,\r\n              state: {fromSuggest: true}\r\n            }}\r\n            onClick={onClick}\r\n          >\r\n            <ListItem button>\r\n              <img\r\n                src={movie.poster || noPoster}\r\n                className={s.image} alt=\"\"\r\n              />\r\n              <div className={s.itemText}>\r\n                <ListItemText>\r\n                  {movie.title}\r\n                </ListItemText>\r\n                <ListItemText>\r\n                  {movie.rating.toFixed(1)}\r\n                </ListItemText>\r\n              </div>\r\n            </ListItem>\r\n          </BrowserLink>\r\n        ))}\r\n        {moviesData.length === 0 &&\r\n          <ListItem>\r\n            <Typography>\r\n              No results found\r\n            </Typography>\r\n          </ListItem>\r\n        }\r\n      </List>\r\n    </div>\r\n  )\r\n}\r\n","import {alpha, makeStyles} from '@material-ui/core/styles'\r\nimport InputBase from '@material-ui/core/InputBase'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport {debounce} from '../utils/debounce'\r\nimport {useCallback, useEffect, useRef, useState} from 'react'\r\nimport {useHistory, useLocation} from 'react-router-dom'\r\nimport {useLazySearchMovieByNameQuery} from '../services/moviesApi'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {Link as BrowserLink} from 'react-router-dom'\r\nimport {\r\n  setInputQuery,\r\n  setSearchFetching,\r\n  setSearchResults,\r\n  setSuggestResults\r\n} from '../store/searchSlice/searchSlice'\r\nimport useUpdatedEffect from '../hooks/useUpdatedEffect'\r\nimport {Button, IconButton} from '@material-ui/core'\r\nimport TuneIcon from '@material-ui/icons/Tune'\r\nimport Suggest from './Suggest'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  form: {\r\n    flexGrow: 1,\r\n  },\r\n  search: {\r\n    display: 'flex',\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: alpha(theme.palette.common.white, 0.20),\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    transition: 'all .3s ease',\r\n    flexGrow: 1,\r\n    zIndex: 100,\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    zIndex: 100\r\n  },\r\n  inputRoot: {\r\n    borderRadius: theme.shape.borderRadius,\r\n    width: '100%',\r\n    color: ({validInput}) => {\r\n      return validInput ? 'inherit' : theme.palette.grey['50']\r\n    },\r\n    backgroundColor: ({validInput}) => {\r\n      return validInput ? 'inherit' : theme.palette.secondary.light\r\n    },\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    width: '100%',\r\n    borderRadius: theme.shape.borderRadius,\r\n    transition: 'all .3s ease',\r\n    '&:focus': {\r\n      backgroundColor: alpha(theme.palette.common.white, 0.25)\r\n    },\r\n    '&::placeholder': {\r\n      transition: 'color .3s ease'\r\n    },\r\n    '&:focus::placeholder': {\r\n      color: 'transparent'\r\n    },\r\n  },\r\n  extendedSearch: {\r\n    padding: '4px 8px',\r\n    borderRadius: 0,\r\n  },\r\n  extendedSearchIcon: {\r\n    color: ({pathname}) => {\r\n      return pathname === '/s' ? theme.palette.secondary.main : theme.palette.grey['50']\r\n    }\r\n  },\r\n  link: {\r\n    display: 'flex',\r\n  }\r\n}))\r\n\r\nexport default function SearchBar() {\r\n  const query = useSelector(state => state.search.query)\r\n  const [validInput, setInputValidity] = useState(true)\r\n  const {search: isOnSearchPage, pathname} = useLocation()\r\n  const s = useStyles({validInput, pathname})\r\n  const history = useHistory()\r\n  const [trigger, {data, isSuccess, isFetching}] = useLazySearchMovieByNameQuery()\r\n  const storedSuggestResults = useSelector(state => state.search.suggestResults?.results)\r\n  const dispatch = useDispatch()\r\n  const inputRef = useRef()\r\n\r\n\r\n  const clearInput = (param = 'withBlur') => {\r\n    dispatch(setInputQuery(''))\r\n    param === 'withBlur' && inputRef.current.blur()\r\n    param === 'withFocus' && inputRef.current.focus()\r\n  }\r\n\r\n  const sendRequest = debounce((query) => {\r\n    if (query.length) {\r\n      trigger({query, page: 1})\r\n    }\r\n  }, 500)\r\n\r\n  const debouncedSendRequest = useCallback(sendRequest, [])\r\n\r\n  const handleSubmit = () => {\r\n    if (!query.length) {\r\n      return setInputValidity(false)\r\n    }\r\n    clearInput()\r\n    dispatch(setSearchResults(data))\r\n    history.push(`/search?q=${query}&page=1`)\r\n  }\r\n\r\n  const handleInputChange = e => {\r\n    setInputValidity(true)\r\n    dispatch(setInputQuery(e.target.value))\r\n  }\r\n\r\n  useUpdatedEffect(() => {\r\n    dispatch(setSearchFetching(!!query.length))\r\n  }, [query])\r\n\r\n  useUpdatedEffect(() => {\r\n    dispatch(setSearchFetching(isFetching))\r\n  }, [isFetching])\r\n\r\n  useUpdatedEffect(() => {\r\n    if (isSuccess) {\r\n      dispatch(setSuggestResults(data))\r\n      if (!isOnSearchPage) {\r\n        dispatch(setSearchResults(data))\r\n      }\r\n    }\r\n  }, [isSuccess, data])\r\n\r\n  useEffect(() => {\r\n    debouncedSendRequest(query)\r\n    !query.length && dispatch(setSuggestResults(null))\r\n  }, [query])\r\n\r\n  return (\r\n    <>\r\n      <div className={s.search}>\r\n        <div className={s.searchIcon}>\r\n          <SearchIcon/>\r\n        </div>\r\n        <form onSubmit={handleSubmit} className={s.form}>\r\n          <InputBase\r\n            placeholder=\"  \"\r\n            classes={{root: s.inputRoot, input: s.inputInput}}\r\n            inputProps={{ 'aria-label': 'search' }}\r\n            onChange={handleInputChange}\r\n            onBlur={() => setInputValidity(true)}\r\n            inputRef={inputRef}\r\n            value={query}\r\n          />\r\n        </form>\r\n          <BrowserLink to='/s' className={s.link}>\r\n            <IconButton\r\n              disableRipple\r\n              className={s.extendedSearch}\r\n              title='extended search'\r\n            >\r\n                <TuneIcon fontSize='small' className={s.extendedSearchIcon}/>\r\n            </IconButton>\r\n          </BrowserLink>\r\n      </div>\r\n      {query &&\r\n        <Button\r\n          color='inherit'\r\n          onClick={() => clearInput('withFocus')}\r\n        >\r\n          Clear\r\n        </Button>\r\n      }\r\n      {storedSuggestResults &&\r\n        <Suggest\r\n          moviesData={storedSuggestResults}\r\n          onClick={clearInput}\r\n        />\r\n      }\r\n    </>\r\n  )\r\n}\r\n","/**\r\n * @param cb : function - callback to be debounced\r\n * @param delay : number - time in ms before execution the function after last triggering\r\n * @returns {function}\r\n */\r\n\r\nexport function debounce(cb, delay) {\r\n\tlet timeout\r\n\treturn function(...args) {\r\n\t\tconst context = this\r\n\t\tif (timeout) {\r\n\t\t\tclearTimeout(timeout)\r\n\t\t}\r\n\t\ttimeout = setTimeout(() => {\r\n\t\t\ttimeout = null\r\n\t\t\tcb.apply(context, args)\r\n\t\t}, delay)\r\n\t}\r\n}\r\n","import EqualizerIcon from '@material-ui/icons/Equalizer'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport {sideBarWidth} from '../layout/constants'\r\nimport {headerHeight} from '../layout/constants'\r\nimport {Link as BrowserLink} from 'react-router-dom'\r\nimport {useLocation} from 'react-router-dom/cjs/react-router-dom'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  logo: {\r\n    width: sideBarWidth,\r\n    height: headerHeight,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  icon: {\r\n    fontSize: 40,\r\n    marginRight: 8\r\n  }\r\n}))\r\n\r\nexport default function RootLogo() {\r\n  const s = useStyles()\r\n  const {pathname} = useLocation()\r\n  const mainPageSelected = pathname === '/'\r\n\r\n  return (\r\n    <BrowserLink to='/'>\r\n      <div className={s.logo} >\r\n        <EqualizerIcon\r\n          className={s.icon}\r\n          color={mainPageSelected ? 'action' : 'inherit'}\r\n        />\r\n        <Typography\r\n          variant='h6'\r\n          color={mainPageSelected ? 'textPrimary' : 'inherit'}\r\n        >\r\n          react movies\r\n        </Typography>\r\n      </div>\r\n    </BrowserLink>\r\n  )\r\n}\r\n","import {useState} from 'react'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport AccountCircle from '@material-ui/icons/AccountCircle'\r\nimport SearchBar from '../components/SearchBar'\r\nimport RootLogo from '../components/RootLogo'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {Button, LinearProgress, Tooltip, withStyles} from '@material-ui/core'\r\nimport {Link as BrowserLink} from 'react-router-dom'\r\nimport {signout} from '../store/authSlice'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tgrow: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\texitBtn: {\r\n\t\tpaddingTop: 0,\r\n\t\tpaddingBottom: 0\r\n\t},\r\n\ttoolbar: {\r\n\t\tpaddingLeft: 0,\r\n\t\tposition: 'relative',\r\n\t},\r\n\tauthBtn: {\r\n\t\tmarginLeft: 'auto'\r\n\t},\r\n\tloader: {\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 0,\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\theight: 4\r\n\t}\r\n}))\r\n\r\nconst BrightTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.secondary.light,\r\n\t\tcolor: '#fff',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t\tmarginTop: 0,\r\n\t},\r\n}))(Tooltip)\r\n\r\nexport default function Header({children}) {\r\n\tconst s = useStyles()\r\n\tconst dispatch = useDispatch()\r\n\tconst isSignedIn = useSelector(state => state.auth.isSignedIn)\r\n\tconst currentUser = useSelector(state => state.auth.currentUser)\r\n\tconst isSearchFetching = useSelector(state => state.search.isSearchFetching)\r\n\tconst [anchorEl, setAnchorEl] = useState(null)\r\n\tconst isMenuOpen = Boolean(anchorEl)\r\n\r\n\tconst handleProfileMenuOpen = (e) => setAnchorEl(e.currentTarget)\r\n\r\n\tconst handleMenuClose = () => setAnchorEl(null)\r\n\r\n\tconst logout = () => {\r\n\t\tsetAnchorEl(null)\r\n\t\tdispatch(signout())\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={s.grow}>\r\n\t\t\t<AppBar position=\"sticky\" elevation={0}>\r\n\t\t\t\t<Toolbar className={s.toolbar}>\r\n\t\t\t\t\t<RootLogo/>\r\n\t\t\t\t\t<SearchBar/>\r\n\t\t\t\t\t{isSignedIn\r\n\t\t\t\t\t\t? <BrightTooltip title={currentUser} placement='bottom' >\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tedge=\"end\"\r\n\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\t\t\t\tonClick={handleProfileMenuOpen}\r\n\t\t\t\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\t\t\t\tclassName={s.authBtn}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<AccountCircle />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</BrightTooltip>\r\n\t\t\t\t\t\t: <BrowserLink to='/signin'>\r\n\t\t\t\t\t\t\t\t<Button color='inherit'>sign in</Button>\r\n\t\t\t\t\t\t\t</BrowserLink>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{isSearchFetching &&\r\n\t\t\t\t\t\t<LinearProgress color=\"secondary\" className={s.loader}/>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t\t<Menu\r\n\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\tanchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n\t\t\t\tkeepMounted\r\n\t\t\t\ttransformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n\t\t\t\topen={isMenuOpen}\r\n\t\t\t\tonClose={handleMenuClose}\r\n\t\t\t>\r\n\t\t\t\t<MenuItem className={s.exitBtn} onClick={logout}>Logout</MenuItem>\r\n\t\t\t</Menu>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import {List, ListItem, ListItemIcon, ListItemText, makeStyles} from '@material-ui/core'\r\nimport {useLocation} from 'react-router-dom/cjs/react-router-dom'\r\nimport {NavLink} from 'react-router-dom'\r\nimport classnames from 'classnames'\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n\treturn {\r\n\t\tactiveNav: {\r\n\t\t\tcolor: theme.palette.secondary.main,\r\n\t\t\t'&:hover': {\r\n\t\t\t\tbackgroundColor: 'transparent'\r\n\t\t\t}\r\n\t\t},\r\n\t\tlistItemIcon: {\r\n\t\t\tminWidth: 56,\r\n\t\t},\r\n\t\tlistItemIconActive: {\r\n\t\t\tcolor: theme.palette.secondary.main,\r\n\t\t},\r\n\t\tlistItem: {\r\n\t\t\tmargin: '24px 0',\r\n\t\t},\r\n\t\ttoolbar: theme.mixins.toolbar,\r\n\t}\r\n})\r\n\r\nexport default function NavLinks({linkItems = []}) {\r\n\tconst s = useStyles()\r\n\tconst {pathname} = useLocation()\r\n\r\n\treturn (\r\n\t\t<List>\r\n\t\t\t{linkItems.map(item => (\r\n\t\t\t\t<NavLink to={item.path} key={item.text}>\r\n\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tdisableRipple\r\n\t\t\t\t\t\tclassName={pathname === item.path ? s.activeNav : null}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon\r\n\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\ts.listItemIcon,\r\n\t\t\t\t\t\t\t\tpathname === item.path && s.listItemIconActive\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{item.icon}\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={item.text}/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</NavLink>\r\n\t\t\t))}\r\n\t\t</List>\r\n\t)\r\n}\r\n","import {makeStyles} from '@material-ui/core/styles'\r\nimport Drawer from '@material-ui/core/Drawer'\r\nimport HistoryIcon from '@material-ui/icons/History'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport {headerHeight, sideBarWidth} from './constants'\r\nimport ScheduleOutlinedIcon from '@material-ui/icons/ScheduleOutlined'\r\nimport WhatshotOutlinedIcon from '@material-ui/icons/WhatshotOutlined'\r\nimport EmojiEventsOutlinedIcon from '@material-ui/icons/EmojiEventsOutlined'\r\nimport ConfirmationNumberOutlinedIcon from '@material-ui/icons/ConfirmationNumberOutlined'\r\nimport FavoriteBorderOutlinedIcon from '@material-ui/icons/FavoriteBorderOutlined'\r\nimport FindInPageOutlinedIcon from '@material-ui/icons/FindInPageOutlined'\r\nimport NavLinks from '../components/NavLinks'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {Badge} from '@material-ui/core'\r\nimport {setInputQuery} from '../store/searchSlice/searchSlice'\r\nimport {useLocation} from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n\r\n  },\r\n  appBar: {\r\n    width: `calc(100% - ${sideBarWidth}px)`,\r\n    marginLeft: sideBarWidth,\r\n  },\r\n  drawer: {\r\n    width: sideBarWidth,\r\n    flexShrink: 0,\r\n\r\n  },\r\n  drawerPaper: {\r\n    width: sideBarWidth,\r\n    top: headerHeight,\r\n    height: `calc(100vh - ${headerHeight}px)`,\r\n    position: 'fixed',\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    minHeight: `calc(100vh - ${headerHeight}px * 2 - 24px * 2)`,\r\n    width: `calc(100% - ${sideBarWidth})`,\r\n    overflow: 'hidden'\r\n  },\r\n}))\r\n\r\nexport default function SideBar({children}) {\r\n  const s = useStyles()\r\n  const isSignedIn = useSelector(state => state.auth.isSignedIn)\r\n  const lists = useSelector(state => state.pages)\r\n  const favorites = useSelector(state => state.movies.favorites)\r\n  const historyItems = useSelector(state => state.search.history)\r\n  const favoritesCount = favorites && Object.keys(favorites).length\r\n  const historyItemsCount = historyItems && Object.keys(historyItems).length\r\n  const searchResultsCount = useSelector(state => state.search.searchResultsCount)\r\n  const dispatch = useDispatch()\r\n  const {search: isOnSearchPage} = useLocation()\r\n  const {pathname} = useLocation()\r\n\r\n  const linkItems = [\r\n    {\r\n      text: 'Now playing',\r\n      icon: <ScheduleOutlinedIcon color='inherit'/>,\r\n      path: `/now_playing/${lists['now_playing']}`,\r\n    },\r\n    {\r\n      text: 'Popular',\r\n      icon: <WhatshotOutlinedIcon color='inherit'/>,\r\n      path: `/popular/${lists['popular']}`,\r\n    },\r\n    {\r\n      text: 'Top Rated',\r\n      icon: <EmojiEventsOutlinedIcon color='inherit'/>,\r\n      path: `/top_rated/${lists['top_rated']}`,\r\n    },\r\n    {\r\n      text: 'Upcoming',\r\n      icon: <ConfirmationNumberOutlinedIcon color='inherit'/>,\r\n      path: `/upcoming/${lists['upcoming']}`,\r\n    },\r\n    {\r\n      text: 'Search history',\r\n      icon: <Badge badgeContent={historyItemsCount} color=\"primary\">\r\n              <HistoryIcon color='inherit'/>\r\n            </Badge>,\r\n      path: `/history`,\r\n    }\r\n  ]\r\n\r\n  isSignedIn && linkItems.push({\r\n    text: 'Favorite',\r\n    icon: <Badge badgeContent={favoritesCount} color=\"primary\">\r\n            <FavoriteBorderOutlinedIcon color='inherit'/>\r\n          </Badge>,\r\n    path: `/favorite`,\r\n  })\r\n\r\n  isOnSearchPage && linkItems.push({\r\n    text: 'Search',\r\n    icon: <Badge badgeContent={searchResultsCount} max={999} color=\"primary\">\r\n            <FindInPageOutlinedIcon color='inherit' style={{fontSize: 28}}/>\r\n          </Badge>,\r\n    path: pathname,\r\n  })\r\n\r\n  return (\r\n    <div className={s.root} >\r\n      <Drawer\r\n        className={s.drawer}\r\n        variant=\"permanent\"\r\n        classes={{paper: s.drawerPaper}}\r\n        anchor=\"left\"\r\n        onClick={() => dispatch(setInputQuery(''))}\r\n      >\r\n        <NavLinks linkItems={linkItems}/>\r\n        <Divider/>\r\n      </Drawer>\r\n      <main className={s.content}>\r\n        {children}\r\n      </main>\r\n    </div>\r\n  )\r\n}\r\n","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTmdb(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"0 0 190.24 81.52\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:url(#linear-gradient);}\"), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient\",\n    y1: 40.76,\n    x2: 190.24,\n    y2: 40.76,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#90cea1\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0.56,\n    stopColor: \"#3cbec9\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#00b3e5\"\n  })))), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"Asset 2\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_2\",\n    \"data-name\": \"Layer 2\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_1-2\",\n    \"data-name\": \"Layer 1\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    className: \"cls-1\",\n    d: \"M105.67,36.06h66.9A17.67,17.67,0,0,0,190.24,18.4h0A17.67,17.67,0,0,0,172.57.73h-66.9A17.67,17.67,0,0,0,88,18.4h0A17.67,17.67,0,0,0,105.67,36.06Zm-88,45h76.9A17.67,17.67,0,0,0,112.24,63.4h0A17.67,17.67,0,0,0,94.57,45.73H17.67A17.67,17.67,0,0,0,0,63.4H0A17.67,17.67,0,0,0,17.67,81.06ZM10.41,35.42h7.8V6.92h10.1V0H.31v6.9h10.1Zm28.1,0h7.8V8.25h.1l9,27.15h6l9.3-27.15h.1V35.4h7.8V0H66.76l-8.2,23.1h-.1L50.31,0H38.51ZM152.43,55.67a15.07,15.07,0,0,0-4.52-5.52,18.57,18.57,0,0,0-6.68-3.08,33.54,33.54,0,0,0-8.07-1h-11.7v35.4h12.75a24.58,24.58,0,0,0,7.55-1.15A19.34,19.34,0,0,0,148.11,77a16.27,16.27,0,0,0,4.37-5.5,16.91,16.91,0,0,0,1.63-7.58A18.5,18.5,0,0,0,152.43,55.67ZM145,68.6A8.8,8.8,0,0,1,142.36,72a10.7,10.7,0,0,1-4,1.82,21.57,21.57,0,0,1-5,.55h-4.05v-21h4.6a17,17,0,0,1,4.67.63,11.66,11.66,0,0,1,3.88,1.87A9.14,9.14,0,0,1,145,59a9.87,9.87,0,0,1,1,4.52A11.89,11.89,0,0,1,145,68.6Zm44.63-.13a8,8,0,0,0-1.58-2.62A8.38,8.38,0,0,0,185.63,64a10.31,10.31,0,0,0-3.17-1v-.1a9.22,9.22,0,0,0,4.42-2.82,7.43,7.43,0,0,0,1.68-5,8.42,8.42,0,0,0-1.15-4.65,8.09,8.09,0,0,0-3-2.72,12.56,12.56,0,0,0-4.18-1.3,32.84,32.84,0,0,0-4.62-.33h-13.2v35.4h14.5a22.41,22.41,0,0,0,4.72-.5,13.53,13.53,0,0,0,4.28-1.65,9.42,9.42,0,0,0,3.1-3,8.52,8.52,0,0,0,1.2-4.68A9.39,9.39,0,0,0,189.66,68.47ZM170.21,52.72h5.3a10,10,0,0,1,1.85.18,6.18,6.18,0,0,1,1.7.57,3.39,3.39,0,0,1,1.22,1.13,3.22,3.22,0,0,1,.48,1.82,3.63,3.63,0,0,1-.43,1.8,3.4,3.4,0,0,1-1.12,1.2,4.92,4.92,0,0,1-1.58.65,7.51,7.51,0,0,1-1.77.2h-5.65Zm11.72,20a3.9,3.9,0,0,1-1.22,1.3,4.64,4.64,0,0,1-1.68.7,8.18,8.18,0,0,1-1.82.2h-7v-8h5.9a15.35,15.35,0,0,1,2,.15,8.47,8.47,0,0,1,2.05.55,4,4,0,0,1,1.57,1.18,3.11,3.11,0,0,1,.63,2A3.71,3.71,0,0,1,181.93,72.72Z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTmdb);\nexport default __webpack_public_path__ + \"static/media/tmdb.bb8aa703.svg\";\nexport { ForwardRef as ReactComponent };","import {AppBar, IconButton, Typography} from \"@material-ui/core\"\r\nimport Container from \"@material-ui/core/Container\"\r\nimport Toolbar from \"@material-ui/core/Toolbar\"\r\nimport {makeStyles} from \"@material-ui/core/styles\"\r\nimport {sideBarWidth} from \"./constants\"\r\nimport GitHubIcon from '@material-ui/icons/GitHub'\r\nimport {ReactComponent as TmdbLogo} from \"../assets/tmdb.svg\"\r\n\r\nconst useStyles = makeStyles((theme => {\r\n\treturn {\r\n\t\tfooter: {\r\n\t\t\tposition: 'sticky',\r\n\t\t\tzIndex: 2100\r\n\t\t},\r\n\t\tpersonal: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tmarginRight: 'auto'\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\tpaddingLeft: 0\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\tmarginLeft: sideBarWidth,\r\n\t\t\tpadding: 0,\r\n\t\t\tmaxWidth: `calc(100% - ${sideBarWidth}px)`\r\n\t\t},\r\n\t\tline: {\r\n\t\t\tlineHeight: 1.4,\r\n\t\t\tfontSize: '.6rem',\r\n\t\t\tcolor: theme.palette.grey['300']\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\twidth: 48,\r\n\t\t\tmarginLeft: 8,\r\n\t\t\tcursor: 'pointer'\r\n\t\t}\r\n\t}\r\n}))\r\n\r\nexport default function Footer() {\r\n\tconst s = useStyles()\r\n\treturn (\r\n\t\t<AppBar position=\"static\" color=\"primary\" className={s.footer} component='footer'>\r\n\t\t\t<Container maxWidth=\"md\" className={s.container}>\r\n\t\t\t\t<Toolbar className={s.toolbar}>\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\thref=\"https://github.com/iv13-web/intensive-project/tree/master\"\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\trel=\"noreferrer\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<IconButton color='inherit'><GitHubIcon/></IconButton>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<div className={s.personal}>\r\n\t\t\t\t\t\t<Typography variant=\"overline\" className={s.line}>\r\n\t\t\t\t\t\t\t 2021 Ivanov Igor\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"overline\" className={s.line}>\r\n\t\t\t\t\t\t\tBuilt with React/Redux/RTK_Query/Material_UI\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Typography variant=\"overline\" className={s.line}>\r\n\t\t\t\t\t\tData provided by\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref='https://www.themoviedb.org/documentation/api'\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\trel=\"noreferrer\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TmdbLogo className={s.logo}/>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</Container>\r\n\t\t</AppBar>\r\n\t)\r\n}\r\n","import Header from './Header'\r\nimport SideBar from './SideBar'\r\nimport Footer from \"./Footer\"\r\n\r\nexport default function Layout({children}) {\r\n  return (\r\n    <Header>\r\n      <SideBar>\r\n        {children}\r\n      </SideBar>\r\n      <Footer/>\r\n    </Header>\r\n  )\r\n}","import {makeStyles} from '@material-ui/core/styles'\r\nimport {Typography} from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n  return {\r\n    mainWrapper: {\r\n      display: 'flex',\r\n      marginBottom: 80,\r\n      minHeight: 450\r\n    },\r\n    image: {\r\n      height: 450,\r\n      marginRight: 24\r\n    },\r\n    textWrapper: {\r\n      boxSizing: 'border-box',\r\n      width: '60%',\r\n    },\r\n    pointCell: {\r\n      width: 96,\r\n      verticalAlign: 'top',\r\n      maxHeight: 160,\r\n      overflow: 'hidden'\r\n    }\r\n  }\r\n})\r\n\r\nconst ROW_TITLES = [\r\n  'overview',\r\n  'rating',\r\n  'release',\r\n  'runtime',\r\n  'countries',\r\n  'companies',\r\n  'genres',\r\n  'budget',\r\n  'revenue',\r\n]\r\n\r\nexport const createCellText = (title, separator) => (\r\n  <Typography variant='subtitle1' color='textSecondary'>\r\n    {separator ? title + separator : title}\r\n  </Typography>\r\n)\r\n\r\nexport default function Intro({data}) {\r\n  const {poster, tagline, title} = data\r\n  const s = useStyles()\r\n\r\n  return (\r\n    <div className={s.mainWrapper}>\r\n      <img className={s.image} src={poster} alt={poster}/>\r\n      <div className={s.textWrapper}>\r\n        <Typography variant='h4' color='textSecondary'>\r\n          {title}\r\n        </Typography>\r\n        <Typography variant='h6' color='textSecondary' gutterBottom>\r\n          {tagline}\r\n        </Typography>\r\n        <table>\r\n          <tbody>\r\n            {ROW_TITLES.map(rowTitle => (\r\n              <tr key={rowTitle}>\r\n                <td className={s.pointCell}>{createCellText(rowTitle, ':')}</td>\r\n                <td>{createCellText(data[rowTitle] || '-')}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import classnames from 'classnames'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport {Button} from '@material-ui/core'\r\nimport {Link as BrowserLink} from 'react-router-dom'\r\nimport {useParams} from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\titem: {\r\n\t\t\theight: 40,\r\n\t\t\tcursor: 'pointer',\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\twidth: '100%'\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: theme.palette.primary.main\r\n\t\t},\r\n\t\tlist: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tjustifyContent: 'space-evenly',\r\n\t\t\tmarginBottom: 20,\r\n\t\t\tbackgroundColor: theme.palette.grey['200'],\r\n\t\t\tmargin: '0 -24px',\r\n\t\t\twidth: 'calc(100% + 48px)',\r\n\t\t\tpadding: 0,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nexport default function TabsContainer({children, category}) {\r\n\tconst s = useStyles()\r\n\tconst {id, tab} = useParams()\r\n\tconst selectedTab = children.findIndex(item => item.props.title.toLowerCase() === tab)\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ul className={s.list}>\r\n\t\t\t\t{children.map((item, index) => {\r\n\t\t\t\t\tconst tabTitle = item.props.title.toLowerCase()\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<BrowserLink\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tto={`/${category}/${id}/${tabTitle}`}\r\n\t\t\t\t\t\t\tstyle={{width:`${100 / children.length}%`}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName={classnames(s.item, {[s.active]: tabTitle === tab})}\r\n\t\t\t\t\t\t\t\tdisableRipple\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{item.props.title}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</BrowserLink>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</ul>\r\n\t\t\t{children[selectedTab]}\r\n\t\t</>\r\n\t)\r\n}\r\n","import Lightbox from 'react-image-lightbox'\r\nimport 'react-image-lightbox/style.css'\r\nimport {useState} from 'react'\r\nimport classnames from 'classnames'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport ZoomInOutlinedIcon from '@material-ui/icons/ZoomInOutlined'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\twrapper: {\r\n\t\t\tdisplay: 'grid',\r\n\t\t\tgridTemplateColumns: 'repeat(auto-fill, minmax(13%, 1fr))',\r\n\t\t\tgap: 24,\r\n\t\t},\r\n\t\titem: {\r\n\t\t\tposition: 'relative',\r\n\t\t\tpaddingBottom: '150%',\r\n\t\t\toverflow: 'hidden',\r\n\t\t\t'& .appear-item': {\r\n\t\t\t\topacity: 0,\r\n\t\t\t},\r\n\t\t\t'&:hover .appear-item': {\r\n\t\t\t\topacity: 1\r\n\t\t\t}\r\n\t\t},\r\n\t\timage: {\r\n\t\t\theight: '100%',\r\n\t\t\twidth: '100%',\r\n\t\t\tobjectFit: 'cover',\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\ttransition: 'all .3s ease',\r\n\t\t},\r\n\t\tcontrols: {\r\n\t\t\ttransition: 'opacity .3s ease',\r\n\t\t\tposition: 'absolute',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tbackgroundColor: 'rgba(0,0,0,.6)',\r\n\t\t\tcolor: theme.palette.primary.main,\r\n\t\t\tcursor: 'pointer'\r\n\t\t},\r\n\t\tzoomIcon: {\r\n\t\t\tpointerEvents: 'none'\r\n\t\t}\r\n\t}\r\n})\r\n\r\n\r\nexport default function Gallery({imgUrlsArray}) {\r\n\tconst s = useStyles()\r\n\tconst [isLightboxVisible, setLightboxVisibility] = useState(false)\r\n\tconst [imageIndex, setImageIndex] = useState(0)\r\n\r\n\tconst handleImageOpen = (e, id) => {\r\n\t\tsetLightboxVisibility(true)\r\n\t\tconst newIndex = imgUrlsArray.findIndex(el => el === id) || 0\r\n\t\tsetImageIndex(newIndex)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={s.wrapper}>\r\n\t\t\t\t{imgUrlsArray.map((url, i) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={i} className={s.item}>\r\n\t\t\t\t\t\t\t\t<img className={s.image} src={url} alt=''/>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={classnames(s.controls, 'appear-item')}\r\n\t\t\t\t\t\t\t\tonClick={(e) => handleImageOpen(e, url)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ZoomInOutlinedIcon\r\n\t\t\t\t\t\t\t\t\tfontSize='large'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tclassName={s.zoomIcon}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t{isLightboxVisible &&\r\n\t\t\t\t<Lightbox\r\n\t\t\t\t\treactModalStyle={{overlay: {zIndex: 2000}}}\r\n\t\t\t\t\tmainSrc={imgUrlsArray[imageIndex]}\r\n\t\t\t\t\tnextSrc={imgUrlsArray[(imageIndex + 1) % imgUrlsArray.length]}\r\n\t\t\t\t\tprevSrc={imgUrlsArray[(imageIndex + imgUrlsArray.length - 1) % imgUrlsArray.length]}\r\n\t\t\t\t\tonCloseRequest={() => setLightboxVisibility(false)}\r\n\t\t\t\t\tonMovePrevRequest={() =>\r\n\t\t\t\t\t\tsetImageIndex((imageIndex + imgUrlsArray.length - 1) % imgUrlsArray.length)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonMoveNextRequest={() =>\r\n\t\t\t\t\t\tsetImageIndex((imageIndex + 1) % imgUrlsArray.length)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t</>\r\n\t)\r\n}\r\n","import {makeStyles} from '@material-ui/core/styles'\r\nimport {CircularProgress} from '@material-ui/core'\r\nimport LazyLoadWrapper from '../../../components/LazyLoadWrapper'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n  return {\r\n    loaderWrapper: {\r\n      justifyContent: 'center',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      height: '100%'\r\n    }\r\n  }\r\n})\r\n\r\nexport default function TabLoader() {\r\n  const s = useStyles()\r\n\r\n  return (\r\n    <LazyLoadWrapper delay={300}>\r\n      <div className={s.loaderWrapper}>\r\n        <CircularProgress/>\r\n      </div>\r\n    </LazyLoadWrapper>\r\n  )\r\n}","import {useGetMovieImagesQuery} from '../../../services/moviesApi'\r\nimport Gallery from '../../../components/Gallery'\r\nimport PagePlaceholder from '../../../components/PagePlaceholder'\r\nimport TabLoader from './TabLoader'\r\n\r\nexport default function ImagesTab({id, title}) {\r\n  const {data, isSuccess, isFetching} = useGetMovieImagesQuery(id)\r\n\r\n  if (isSuccess && !data.length) {\r\n    return <PagePlaceholder text={`No ${title} found`}/>\r\n  }\r\n\r\n  if (isFetching) {\r\n    return <TabLoader/>\r\n  }\r\n\r\n  return isSuccess && <Gallery imgUrlsArray={data}/>\r\n}","import {useState} from 'react'\r\nimport ModalVideo from 'react-modal-video'\r\nimport classnames from 'classnames'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport {useGetMovieTrailersQuery} from '../../../services/moviesApi'\r\nimport PlayCircleOutlineIcon from '@material-ui/icons/PlayCircleOutline'\r\nimport PagePlaceholder from '../../../components/PagePlaceholder'\r\nimport TabLoader from './TabLoader'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\twrapper: {\r\n\t\t\tdisplay: 'grid',\r\n\t\t\tgridTemplateColumns: 'repeat(auto-fill, minmax(32%, 1fr))',\r\n\t\t\tgap: 24,\r\n\t\t},\r\n\t\titem: {\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tposition: 'relative',\r\n\t\t\tcursor: 'pointer',\r\n\t\t\taspectRatio: '4/3',\r\n\t\t\t'& .appear-item': {\r\n\t\t\t\topacity: 0,\r\n\t\t\t},\r\n\t\t\t'&:hover .appear-item': {\r\n\t\t\t\topacity: 1\r\n\t\t\t}\r\n\t\t},\r\n\t\timage: {\r\n\t\t\ttransition: 'all .3s ease'\r\n\t\t},\r\n\t\tbtn: {\r\n\t\t\tpointerEvents: 'none',\r\n\t\t\ttransition: 'all .3s ease',\r\n\t\t\topacity: 0,\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 4,\r\n\t\t\tcolor: theme.palette.primary.main,\r\n\t\t\tbackgroundColor: 'rgba(0,0,0,.6)',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\tfontSize: 64\r\n\t\t},\r\n\t\tloaderWrapper: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\theight: '100%'\r\n\t\t}\r\n\t}\r\n})\r\n\r\nexport default function TrailersTab({id, title}) {\r\n\tconst s = useStyles()\r\n\tconst {data, isSuccess, isFetching} = useGetMovieTrailersQuery(id)\r\n\tconst [isOpen, setIsOpen] = useState(false)\r\n\tconst [currentKey, setCurrentKey] = useState('')\r\n\r\n\tconst playTrailerHandler = key => {\r\n\t\tsetCurrentKey(key)\r\n\t\tsetIsOpen(true)\r\n\t}\r\n\r\n\tif (isFetching) {\r\n\t\treturn <TabLoader/>\r\n\t}\r\n\r\n\tif (isSuccess && !data.length) {\r\n\t\treturn <PagePlaceholder text={`No ${title} found`}/>\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{isSuccess &&\r\n\t\t\t\t<div className={s.wrapper}>\r\n\t\t\t\t\t{data.map(item => (\r\n\t\t\t\t\t\t<div key={item.youtubeVideoId} className={s.item}>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tonClick={() => playTrailerHandler(item.youtubeVideoId)}\r\n\t\t\t\t\t\t\t\tsrc={`https://img.youtube.com/vi/${item.youtubeVideoId}/sddefault.jpg`}\r\n\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div className={classnames(s.btn, 'appear-item')}>\r\n\t\t\t\t\t\t\t\t<PlayCircleOutlineIcon\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tfontSize='inherit'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t{isOpen &&\r\n\t\t\t\t\t\t<ModalVideo\r\n\t\t\t\t\t\t\tchannel='youtube'\r\n\t\t\t\t\t\t\tautoplay\r\n\t\t\t\t\t\t\tisOpen={isOpen}\r\n\t\t\t\t\t\t\tvideoId={currentKey}\r\n\t\t\t\t\t\t\tonClose={() => setIsOpen(false)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</>\r\n\t)\r\n}","import {Grid, Typography} from '@material-ui/core'\r\nimport LazyLoadWrapper from './LazyLoadWrapper'\r\nimport SkeletonCard from './SkeletonCard'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\nimport {Link as BrowserLink} from 'react-router-dom'\r\nimport noPoster from '../assets/poster-placeholder.png'\r\nimport {useState} from 'react'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n  return {\r\n    root: {\r\n      alignSelf: 'stretch',\r\n      '& .appear-item': {\r\n        opacity: 0,\r\n      },\r\n      '&:hover .appear-item': {\r\n        opacity: 1\r\n      }\r\n    },\r\n    wrapper: {\r\n      overflow: 'hidden',\r\n    },\r\n    card: {\r\n      position: 'relative',\r\n    },\r\n    image: {\r\n      transition: 'transform .3s ease',\r\n      objectFit: 'cover',\r\n      width: '100%',\r\n      display: 'block',\r\n      '&:hover': {\r\n        transform: 'scale(1.05)'\r\n      }\r\n    },\r\n    name: {\r\n      fontWeight: 500\r\n    }\r\n  }\r\n})\r\n\r\nexport default function ActorCard({data}) {\r\n  const s = useStyles()\r\n  const {poster, id , name, character} = data\r\n  const [isImgReady, setIsImgReady] = useState(false)\r\n  const onImgLoad = e => setIsImgReady(true)\r\n\r\n  return (\r\n    <Grid item xs={6} md={4} lg={3} xl={2} className={s.root}>\r\n      <div className={s.card}>\r\n        {!isImgReady &&\r\n          <LazyLoadWrapper delay={1000}>\r\n            <SkeletonCard/>\r\n            <Skeleton variant=\"text\"/>\r\n            <Skeleton variant=\"text\"/>\r\n          </LazyLoadWrapper>\r\n        }\r\n        <BrowserLink to={`/actor/${id}/photos`}>\r\n          <div className={s.wrapper}>\r\n            <img\r\n              src={poster || noPoster}\r\n              className={s.image}\r\n              alt=\"\"\r\n              onLoad={onImgLoad}\r\n              style={isImgReady ? {opacity: 1} : {opacity: 0}}\r\n            />\r\n          </div>\r\n        </BrowserLink>\r\n        {isImgReady &&\r\n          <>\r\n            <Typography variant='subtitle1' className={s.name} noWrap>\r\n              {name}\r\n            </Typography>\r\n            <Typography variant='subtitle1' color='textSecondary' noWrap>\r\n              {character}\r\n            </Typography>\r\n          </>\r\n        }\r\n      </div>\r\n    </Grid>\r\n  )\r\n}\r\n","import {useGetActorsQuery} from '../../../services/moviesApi'\r\nimport CardContainer from '../../../components/CardContainer'\r\nimport PagePlaceholder from '../../../components/PagePlaceholder'\r\nimport TabLoader from './TabLoader'\r\nimport ActorCard from '../../../components/ActorCard'\r\n\r\nexport default function ActorsTab({id, title}) {\r\n  const {data, isSuccess, isFetching} = useGetActorsQuery(id)\r\n\r\n  if (isSuccess && !data.length) {\r\n    return <PagePlaceholder text={`No ${title} found`}/>\r\n  }\r\n\r\n  if (isFetching) {\r\n    return <TabLoader/>\r\n  }\r\n\r\n  return (\r\n    isSuccess && data.length > 0 &&\r\n      <CardContainer>\r\n        {data.map(movie => (\r\n          <ActorCard\r\n            data={movie}\r\n            key={movie.id}\r\n            id={movie.id}\r\n          />\r\n        ))}\r\n      </CardContainer>\r\n\r\n  )\r\n}\r\n","import CardContainer from '../../../components/CardContainer'\r\nimport {useGetSimilarQuery} from '../../../services/moviesApi'\r\nimport PagePlaceholder from '../../../components/PagePlaceholder'\r\nimport TabLoader from './TabLoader'\r\nimport MovieCard from '../../../components/MovieCard'\r\n\r\nexport default function SimilarTab({id, title}) {\r\n  const {data, isSuccess, isFetching} = useGetSimilarQuery(id)\r\n  const moviesData = data?.results\r\n\r\n  if (isSuccess && !moviesData.length) {\r\n    return <PagePlaceholder text={`No ${title} found`}/>\r\n  }\r\n\r\n  if (isFetching) {\r\n    return <TabLoader/>\r\n  }\r\n\r\n  return (\r\n    isSuccess && moviesData.length > 0 &&\r\n      <CardContainer>\r\n        {moviesData.map(movie => (\r\n          <MovieCard\r\n            type='movie'\r\n            data={movie}\r\n            key={movie.id}\r\n            id={movie.id}\r\n          />\r\n        ))}\r\n      </CardContainer>\r\n  )\r\n}","import CardContainer from '../../../components/CardContainer'\r\nimport {useGetRecommendationsQuery} from '../../../services/moviesApi'\r\nimport PagePlaceholder from '../../../components/PagePlaceholder'\r\nimport TabLoader from './TabLoader'\r\nimport MovieCard from '../../../components/MovieCard'\r\n\r\nexport default function RecommendationsTab({id, title}) {\r\n\tconst {data, isSuccess, isFetching} = useGetRecommendationsQuery(id)\r\n\tconst moviesData = data?.results\r\n\r\n\tif (isSuccess && !moviesData.length) {\r\n\t\treturn <PagePlaceholder text={`No ${title} found`}/>\r\n\t}\r\n\r\n\tif (isFetching) {\r\n\t\treturn <TabLoader/>\r\n\t}\r\n\r\n\treturn (\r\n\t\tisSuccess && moviesData.length > 0 &&\r\n\t\t\t<CardContainer>\r\n\t\t\t\t{moviesData.map(movie => (\r\n\t\t\t\t\t<MovieCard\r\n\t\t\t\t\t\ttype='movie'\r\n\t\t\t\t\t\tdata={movie}\r\n\t\t\t\t\t\tkey={movie.id}\r\n\t\t\t\t\t\tid={movie.id}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</CardContainer>\r\n\r\n\t)\r\n}","import Intro from './components/Intro'\r\nimport {useParams} from 'react-router-dom'\r\nimport {useGetMovieByIdQuery} from '../../services/moviesApi'\r\nimport TabsContainer from '../../components/TabsContainer'\r\nimport ImagesTab from './components/ImagesTab'\r\nimport TrailersTab from './components/TrailersTab'\r\nimport ActorsTab from './components/ActorsTab'\r\nimport SimilarTab from './components/SimilarTab'\r\nimport RecommendationsTab from './components/RecommendationsTab'\r\nimport {useLocation} from 'react-router-dom/cjs/react-router-dom'\r\nimport {useEffect} from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {saveToHistory} from '../../store/searchSlice/searchSlice'\r\n\r\nexport default function Movie() {\r\n  const {id} = useParams()\r\n  const {pathname: path} = useLocation()\r\n  const fromSuggest = useLocation().state?.fromSuggest\r\n  const dispatch = useDispatch()\r\n  const {data, isSuccess} = useGetMovieByIdQuery(id)\r\n  const {poster, title} = isSuccess && data\r\n  const currentUser = useSelector(state => state.auth.currentUser)\r\n\r\n  useEffect(() => {\r\n    if (isSuccess && fromSuggest) {\r\n      dispatch(saveToHistory({\r\n        type: 'fromSuggest',\r\n        id,\r\n        path,\r\n        currentUser,\r\n        poster,\r\n        title\r\n      }))\r\n    }\r\n  }, [isSuccess, id])\r\n\r\n  return (\r\n    <>\r\n      {isSuccess && <Intro data={data}/>}\r\n      <TabsContainer category='movie'>\r\n        <ImagesTab id={id} title='images'/>\r\n        <TrailersTab id={id} title='trailers'/>\r\n        <ActorsTab id={id} title='actors'/>\r\n        <SimilarTab id={id} title='similar'/>\r\n        <RecommendationsTab id={id} title='recommendations'/>\r\n      </TabsContainer>\r\n    </>\r\n  )\r\n}","import {createSlice} from '@reduxjs/toolkit'\r\n\r\nconst appSlice = createSlice({\r\n\tname: 'app',\r\n\tinitialState: {\r\n\t\tinit: false\r\n\t},\r\n\treducers: {\r\n\t\tinit: (state) => {\r\n\t\t\tstate.init = true\r\n\t\t},\r\n\t}\r\n})\r\n\r\nexport const appReducer = appSlice.reducer\r\nexport const {init} = appSlice.actions","import Avatar from '@material-ui/core/Avatar'\r\nimport Button from '@material-ui/core/Button'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Link from '@material-ui/core/Link'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Container from '@material-ui/core/Container'\r\nimport {Link as BrowserLink, useHistory} from 'react-router-dom'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {signin} from '../store/authSlice'\r\nimport {useFormik} from 'formik'\r\nimport * as yup from 'yup'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  container: {\r\n    padding: '24px 24px 24px 0'\r\n  }\r\n}))\r\n\r\nconst validationSchema = yup.object({\r\n  email: yup\r\n    .string('Enter your email')\r\n    .email('Enter a valid email')\r\n    .required('Email is required'),\r\n  password: yup\r\n    .string('Enter your password')\r\n    .min(4, 'Password is too short - should be 4 chars minimum')\r\n    .required('Password is required'),\r\n})\r\n\r\nconst WRONG_PASSWORD_TEXT = 'Incorrect password, please, check again'\r\nconst WRONG_EMAIL_TEXT = 'No user with such email in db, create an account'\r\n\r\nexport default function SignIn() {\r\n  const s = useStyles()\r\n  const users = useSelector(state => state.auth.users)\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n      password: '',\r\n    },\r\n    validationSchema: validationSchema,\r\n    onSubmit: (values) => {\r\n      dispatch(signin(values))\r\n      if (!users?.[values.email]) {\r\n        return formik.setFieldError('email', WRONG_EMAIL_TEXT)\r\n      }\r\n      if(users?.[values.email]?.password !== values.password) {\r\n        return formik.setFieldError('password', WRONG_PASSWORD_TEXT)\r\n      }\r\n      history.push('/')\r\n    }\r\n  })\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\" className={s.container}>\r\n      <div className={s.paper}>\r\n        <Avatar className={s.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n\r\n        <form className={s.form} noValidate onSubmit={formik.handleSubmit}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            autoFocus\r\n            value={formik.values.email}\r\n            onChange={formik.handleChange}\r\n            error={formik.touched.email && Boolean(formik.errors.email)}\r\n            helperText={formik.touched.email && formik.errors.email}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n            value={formik.values.password}\r\n            onChange={formik.handleChange}\r\n            error={formik.touched.password && Boolean(formik.errors.password)}\r\n            helperText={formik.touched.password && formik.errors.password}\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={s.submit}\r\n          >\r\n            Sign In\r\n          </Button>\r\n        </form>\r\n        <Grid container style={{justifyContent: 'end'}}>\r\n          <Grid item>\r\n            <Link\r\n              component={BrowserLink}\r\n              to='/signup'\r\n              variant=\"body2\"\r\n              onMouseDown={() => history.push('/signup')}\r\n            >\r\n              Don't have an account? Sign Up\r\n            </Link>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n","import Avatar from '@material-ui/core/Avatar'\r\nimport Button from '@material-ui/core/Button'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Link from '@material-ui/core/Link'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Container from '@material-ui/core/Container'\r\nimport {Link as BrowserLink} from 'react-router-dom'\r\nimport * as yup from 'yup'\r\nimport {useFormik} from 'formik'\r\nimport {signup} from '../store/authSlice'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  container: {\r\n    padding: '24px 24px 24px 0'\r\n  }\r\n}))\r\n\r\nconst validationSchema = yup.object({\r\n  firstName: yup\r\n    .string('Enter your first name')\r\n    .required('First name is required'),\r\n  lastName: yup\r\n    .string('Enter your last name')\r\n    .required('Last name is required'),\r\n  email: yup\r\n    .string('Enter your email')\r\n    .email('Enter a valid email')\r\n    .required('Email is required'),\r\n  password: yup\r\n    .string('Enter your password')\r\n    .min(4, 'Password is too short - should be 4 chars minimum')\r\n    .required('Password is required'),\r\n})\r\n\r\nconst EXISTING_EMAIL_TEXT = 'This email has already been taken, please, sign in'\r\n\r\nexport default function SignUp() {\r\n  const s = useStyles()\r\n  const dispatch = useDispatch()\r\n  const users = useSelector(state => state.auth.users)\r\n  const history = useHistory()\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      firstName: '',\r\n      lastName: '',\r\n      email: '',\r\n      password: '',\r\n    },\r\n    validationSchema: validationSchema,\r\n    onSubmit: (values) => {\r\n      if (users?.[values.email]) {\r\n        formik.setFieldError('email', EXISTING_EMAIL_TEXT)\r\n      } else {\r\n        dispatch(signup(values))\r\n        history.push('/signin')\r\n      }\r\n    },\r\n  })\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\" className={s.container}>\r\n      <div className={s.paper}>\r\n        <Avatar className={s.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign up\r\n        </Typography>\r\n        <form\r\n          className={s.form}\r\n          noValidate\r\n          onSubmit={formik.handleSubmit}\r\n        >\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoComplete=\"fname\"\r\n                name=\"firstName\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"firstName\"\r\n                label=\"First Name\"\r\n                autoFocus\r\n                value={formik.values.firstName}\r\n                onChange={formik.handleChange}\r\n                error={formik.touched.firstName && Boolean(formik.errors.firstName)}\r\n                helperText={formik.touched.firstName && formik.errors.firstName}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"lastName\"\r\n                label=\"Last Name\"\r\n                name=\"lastName\"\r\n                autoComplete=\"lname\"\r\n                value={formik.values.lastName}\r\n                onChange={formik.handleChange}\r\n                error={formik.touched.lastName && Boolean(formik.errors.lastName)}\r\n                helperText={formik.touched.lastName && formik.errors.lastName}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                value={formik.values.email}\r\n                onChange={formik.handleChange}\r\n                error={formik.touched.email && Boolean(formik.errors.email)}\r\n                helperText={formik.touched.email && formik.errors.email}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n                value={formik.values.password}\r\n                onChange={formik.handleChange}\r\n                error={formik.touched.password && Boolean(formik.errors.password)}\r\n                helperText={formik.touched.password && formik.errors.password}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={s.submit}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justifyContent=\"flex-end\">\r\n            <Grid item>\r\n              <Link component={BrowserLink} to='/signin' variant=\"body2\">\r\n                Already have an account? Sign in\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  )\r\n}","import {useSelector} from 'react-redux'\r\nimport {Route, Redirect} from 'react-router-dom'\r\n\r\nexport default function PrivateRoute({component: Component, ...rest}) {\r\n  const isSignedIn = useSelector(state => state.auth.isSignedIn)\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => (\r\n        isSignedIn\r\n          ? <Component {...props} />\r\n          : <Redirect to='/signin'/>\r\n      )}\r\n    />\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/search_error.c731c595.png\";","import {useHistory, useLocation} from 'react-router-dom'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {useLazySearchMoviesQuery} from '../services/moviesApi'\r\nimport {useEffect, useLayoutEffect} from 'react'\r\nimport CardContainer from '../components/CardContainer'\r\nimport Paginator from '../components/Paginatior'\r\nimport AuthModal from '../components/AuthModal'\r\nimport {saveToHistory, setSearchResults, setSearchResultsCount} from '../store/searchSlice/searchSlice'\r\nimport PagePlaceholder from '../components/PagePlaceholder'\r\nimport noResultsImage from '../assets/search_error.png'\r\nimport ScrollToTop from '../layout/ScrollToTop'\r\nimport MovieCard from '../components/MovieCard'\r\nimport SkeletonCardLayout from '../components/SkeletonCardLayout'\r\nimport {CARDS_PER_REQUEST} from './Catalog'\r\n\r\nexport default function SearchResults() {\r\n  const dispatch = useDispatch()\r\n  const storedSearchResult = useSelector(state => state.search.searchResults)\r\n  const currentUser = useSelector(state => state.auth.currentUser)\r\n  const [trigger, {data, isSuccess, isError, isFetching}] = useLazySearchMoviesQuery()\r\n  const moviesData = storedSearchResult?.results\r\n  const pagesCount = storedSearchResult?.totalPages\r\n  const queryParams = new URLSearchParams(useLocation().search)\r\n  const query = queryParams.get('q')\r\n  const page = queryParams.get('page')\r\n  const genres = queryParams.get('genres')\r\n  const year = queryParams.get('year')\r\n  const {pathname, search, state} = useLocation()\r\n  const history = useHistory()\r\n\r\n  useLayoutEffect(() => {\r\n    if (!query && !genres && !year) {\r\n      return history.push('/s')\r\n    }\r\n    dispatch(setSearchResults(null))\r\n    trigger({query, page, genres, year})\r\n  }, [query, page, genres, year])\r\n\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      dispatch(setSearchResults(data))\r\n      dispatch(setSearchResultsCount(data.totalResults))\r\n      if (state?.fromFilters) {\r\n        const path = pathname + search\r\n        dispatch(saveToHistory({\r\n          type: 'fromFilters',\r\n          id: search,\r\n          path,\r\n          currentUser,\r\n          genres,\r\n          year\r\n        }))\r\n      }\r\n    }\r\n    return () => {\r\n      dispatch(setSearchResultsCount(null))\r\n    }\r\n  }, [isSuccess, data, currentUser])\r\n\r\n  const handlePageChange = (e, page) => {\r\n    dispatch(setSearchResults(null))\r\n    if (query) {\r\n      return history.push(`${pathname}?q=${query}&page=${page}`)\r\n    }\r\n    history.push(`${pathname}?&genres=${genres}&page=${page}`)\r\n  }\r\n\r\n  if (moviesData?.length && (!pagesCount || isError)) {\r\n    return (\r\n      <PagePlaceholder\r\n        image={noResultsImage}\r\n        text='NO RESULTS'\r\n      />\r\n    )\r\n  }\r\n\r\n  if (isFetching) {\r\n    return <SkeletonCardLayout cardsCount={CARDS_PER_REQUEST}/>\r\n  }\r\n\r\n  return (\r\n    moviesData?.length > 0 &&\r\n      <>\r\n        <ScrollToTop deps={[page, query]}/>\r\n        <CardContainer>\r\n          {moviesData.map(movie => (\r\n            <MovieCard\r\n              type='movie'\r\n              data={movie}\r\n              key={movie.id}\r\n              id={movie.id}\r\n            />\r\n          ))}\r\n        </CardContainer>\r\n        {pagesCount > 1 &&\r\n          <Paginator\r\n            count={pagesCount}\r\n            page={Number(page)}\r\n            handlePageChange={handlePageChange}\r\n          />\r\n        }\r\n        <AuthModal/>\r\n      </>\r\n  )\r\n}","export const GENRES = {\r\n\t28: 'action' ,\r\n\t12: 'adventure' ,\r\n\t16: 'animation' ,\r\n\t35: 'comedy' ,\r\n\t80: 'crime' ,\r\n\t99: 'documentary' ,\r\n\t18: 'drama' ,\r\n\t10751: 'family' ,\r\n\t14: 'fantasy' ,\r\n\t36: 'history' ,\r\n\t27: 'horror' ,\r\n\t53: 'thriller' ,\r\n\t878: 'sci-fi',\r\n\t37: 'western' ,\r\n}\r\n","import {Paper, Typography, withStyles} from '@material-ui/core'\r\nimport {ToggleButtonGroup} from '@material-ui/lab'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\n\r\nconst StyledToggleButtonGroup = withStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-between',\r\n    border: `1px solid ${theme.palette.divider}`,\r\n  },\r\n  grouped: {\r\n    border: 'none',\r\n    '&:not(:first-child)': {\r\n      borderRadius: theme.shape.borderRadius,\r\n    },\r\n    '&:first-child': {\r\n      borderRadius: theme.shape.borderRadius,\r\n    }\r\n  }\r\n}))(ToggleButtonGroup)\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  wrapper: {\r\n    marginBottom: 32\r\n  }\r\n}))\r\n\r\nexport default function SelectFilterWrapper({children, onChange, value, title}) {\r\n  const s = useStyles()\r\n\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <Typography variant='h6' color='primary' gutterBottom>\r\n        {title}\r\n      </Typography>\r\n      <Paper elevation={0}>\r\n        <StyledToggleButtonGroup\r\n          size=\"small\"\r\n          value={value}\r\n          onChange={onChange}\r\n          aria-label=\"text alignment\"\r\n        >\r\n          {children}\r\n        </StyledToggleButtonGroup>\r\n      </Paper>\r\n    </div>\r\n  )\r\n}\r\n","import {GENRES} from '../../../store/searchSlice/genres'\r\nimport {ToggleButton} from '@material-ui/lab'\r\nimport SelectFilterWrapper from './SelectFilterWrapper'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {setFilterQuery, setGenres} from '../../../store/searchSlice/searchSlice'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  toggleBtn: {\r\n    flexGrow: 1,\r\n    margin: 4\r\n  }\r\n}))\r\n\r\nexport default function GenresFilter() {\r\n  const s = useStyles()\r\n  const dispatch = useDispatch()\r\n  const genres = useSelector(state => state.search.selectedGenres)\r\n\r\n  const handleGenresSelect = (event, newGenres) => {\r\n    dispatch(setGenres(newGenres))\r\n    dispatch(setFilterQuery(genres))\r\n  }\r\n\r\n  return (\r\n    <SelectFilterWrapper\r\n      onChange={handleGenresSelect}\r\n      value={genres}\r\n      title='Select genres'\r\n    >\r\n      {Object.keys(GENRES).map(key => (\r\n        <ToggleButton\r\n          key={key}\r\n          value={key}\r\n          aria-label={key}\r\n          className={s.toggleBtn}\r\n        >\r\n          {GENRES[key]}\r\n        </ToggleButton>\r\n      ))}\r\n    </SelectFilterWrapper>\r\n  )\r\n}\r\n","import {TextField, Typography} from '@material-ui/core'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {setFilterQuery, setYear, setYearValidity} from '../../../store/searchSlice/searchSlice'\r\n\r\nexport default function YearsFilter() {\r\n  const dispatch = useDispatch()\r\n  const year = useSelector(state => state.search.enteredYear)\r\n  const isYearValid = useSelector(state => state.search.isYearValid)\r\n\r\n  const handleYearPrint = e => {\r\n    dispatch(setYear(e.target.value))\r\n    dispatch(setYearValidity(e.target.value))\r\n    dispatch(setFilterQuery(year))\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Typography variant='h6' color='primary' gutterBottom>\r\n        Enter year\r\n      </Typography>\r\n      <TextField\r\n        variant='outlined'\r\n        size='small'\r\n        fullWidth\r\n        value={year}\r\n        error={!isYearValid}\r\n        onChange={handleYearPrint}\r\n      />\r\n    </>\r\n  )\r\n}","import {makeStyles} from \"@material-ui/core/styles\"\r\nimport Button from \"@material-ui/core/Button\"\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport Container from \"@material-ui/core/Container\"\r\nimport GenresFilter from './components/GenresFilter'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {clearFilters} from '../../store/searchSlice/searchSlice'\r\nimport {useHistory} from 'react-router-dom/cjs/react-router-dom'\r\nimport YearsFilter from './components/YearsFilter'\r\nimport {toast} from 'react-toastify'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  container: {\r\n    padding: '24px 24px 24px 0',\r\n    maxWidth: 650\r\n  },\r\n  clear: {\r\n    justifyContent: 'end'\r\n  },\r\n  buttonProgress: {\r\n    color: theme.palette.primary.dark,\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  }\r\n}))\r\n\r\nexport default function ExtendedSearch() {\r\n  const s = useStyles()\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const {genres, year} = useSelector(state => state.search.filterQuery)\r\n  const isYearValid = useSelector(state => state.search.isYearValid)\r\n  const shouldDisableBtn = !genres && !year\r\n\r\n  const handleSubmit = () => {\r\n    if (genres || year) {\r\n      isYearValid\r\n        ? history.push({\r\n          pathname: `/search`,\r\n          search: `?&genres=${genres}&year=${year}&page=1`,\r\n          state: {fromFilters: true}\r\n        })\r\n        : toast.error('Enter a valid year, please')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\" className={s.container}>\r\n        <form className={s.form} noValidate onSubmit={handleSubmit}>\r\n          <GenresFilter/>\r\n          <YearsFilter/>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={s.submit}\r\n            disabled={shouldDisableBtn}\r\n          >\r\n            search\r\n          </Button>\r\n        </form>\r\n        <Grid container className={s.clear}>\r\n          <Grid item>\r\n            <Button\r\n              disabled={shouldDisableBtn}\r\n              color='primary'\r\n              onClick={() => dispatch(clearFilters())}\r\n            >\r\n              Clear filters\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n    </Container>\r\n  )\r\n}","import {makeStyles} from '@material-ui/core/styles'\r\nimport {Typography} from '@material-ui/core'\r\nimport {createCellText} from '../../Movie/components/Intro'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n  return {\r\n    mainWrapper: {\r\n      display: 'flex',\r\n      marginBottom: 80,\r\n      minHeight: 450\r\n    },\r\n    image: {\r\n      height: 450,\r\n      marginRight: 24\r\n    },\r\n    textWrapper: {\r\n      boxSizing: 'border-box',\r\n      width: '60%',\r\n    },\r\n    pointCell: {\r\n      width: 96,\r\n      verticalAlign: 'top',\r\n      maxHeight: 160,\r\n      overflow: 'hidden'\r\n    }\r\n  }\r\n})\r\n\r\nconst ROW_TITLES = [\r\n  'birthday',\r\n  'deathday',\r\n  'birthplace',\r\n  'biography',\r\n]\r\n\r\nexport default function Intro({data}) {\r\n  const s = useStyles()\r\n  const {photo, name} = data\r\n\r\n  return (\r\n    <div className={s.mainWrapper}>\r\n      <img className={s.image} src={photo} alt={name}/>\r\n      <div className={s.textWrapper}>\r\n        <Typography variant='h4' color='textSecondary' gutterBottom>\r\n          {name}\r\n        </Typography>\r\n        <table>\r\n          <tbody>\r\n          {ROW_TITLES.map(rowTitle => (\r\n            <tr key={rowTitle}>\r\n              <td className={s.pointCell}>\r\n                {createCellText(rowTitle, ':')}\r\n              </td>\r\n              <td>\r\n                {createCellText(data[rowTitle] || '-')}\r\n              </td>\r\n            </tr>\r\n          ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import {useGetActorImagesQuery} from '../../../services/moviesApi'\r\nimport Gallery from '../../../components/Gallery'\r\nimport PagePlaceholder from '../../../components/PagePlaceholder'\r\nimport TabLoader from '../../Movie/components/TabLoader'\r\n\r\nexport default function PhotosTab({id, title}) {\r\n\tconst {data, isSuccess, isFetching} = useGetActorImagesQuery(id)\r\n\r\n\tif (isSuccess && !data.length) {\r\n\t\treturn <PagePlaceholder text={`No ${title} found`}/>\r\n\t}\r\n\r\n\tif (isFetching) {\r\n\t\treturn <TabLoader/>\r\n\t}\r\n\r\n\treturn isSuccess && <Gallery imgUrlsArray={data}/>\r\n}\r\n","import CardContainer from '../../../components/CardContainer'\r\nimport {useGetActorMoviesQuery} from '../../../services/moviesApi'\r\nimport PagePlaceholder from '../../../components/PagePlaceholder'\r\nimport MovieCard from '../../../components/MovieCard'\r\nimport TabLoader from '../../Movie/components/TabLoader'\r\n\r\nexport default function MoviesTab({id, title}) {\r\n\tconst {data, isSuccess, isFetching} = useGetActorMoviesQuery(id)\r\n\r\n\tif (isSuccess && !data.length) {\r\n\t\treturn <PagePlaceholder text={`No ${title} found`}/>\r\n\t}\r\n\r\n\tif (isFetching) {\r\n\t\treturn <TabLoader/>\r\n\t}\r\n\r\n\treturn (\r\n\t\tisSuccess && data.length > 0 &&\r\n\t\t<CardContainer>\r\n\t\t\t{data.map(movie => (\r\n\t\t\t\t<MovieCard\r\n\t\t\t\t\ttype='movie'\r\n\t\t\t\t\tdata={movie}\r\n\t\t\t\t\tkey={movie.id}\r\n\t\t\t\t\tid={movie.id}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</CardContainer>\r\n\t)\r\n}","import {useGetActorByIdQuery} from '../../services/moviesApi'\r\nimport {useParams} from 'react-router-dom'\r\nimport Intro from './components/Intro'\r\nimport TabsContainer from '../../components/TabsContainer'\r\nimport PhotosTab from './components/PhotosTab'\r\nimport MoviesTab from './components/MoviesTab'\r\n\r\nexport default function Actor() {\r\n  const {id} = useParams()\r\n  const {data, isSuccess} = useGetActorByIdQuery(id)\r\n\r\n  return (\r\n    <>\r\n      {isSuccess && <Intro data={data}/>}\r\n      <TabsContainer category='actor'>\r\n        <PhotosTab id={id} title='photos'/>\r\n        <MoviesTab id={id} title='movies'/>\r\n      </TabsContainer>\r\n    </>\r\n  )\r\n}\r\n","import {Chip, Grid, Link} from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {Link as BrowserLink} from 'react-router-dom'\r\nimport {GENRES} from '../store/searchSlice/genres'\r\nimport classnames from 'classnames'\r\n\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\twrapper: {\r\n\t\t\tbackgroundColor: theme.palette.info.light,\r\n\t\t\toverflow: 'hidden',\r\n\t\t\twidth: '100%',\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: '150.27%',\r\n\t\t\tposition: 'relative'\r\n\t\t},\r\n\t\tchipWrapper: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tinset: 12,\r\n\t\t},\r\n\t\tchip: {\r\n\t\t\twidth: '100%',\r\n\t\t\tmarginBottom: 12,\r\n\t\t\tpointerEvents: 'none',\r\n\t\t\tcolor: '#fff'\r\n\t\t},\r\n\t\tyear: {\r\n\t\t\tbackgroundColor: theme.palette.secondary.light\r\n\t\t},\r\n\t\tgenre: {\r\n\t\t\tbackgroundColor: theme.palette.action.active\r\n\t\t}\r\n\t}\r\n})\r\n\r\nconst getItemNameById = (item, dictionary) => {\r\n\treturn dictionary[item]\r\n}\r\n\r\nexport default function ExtendedSearchCard({data}) {\r\n\tconst s = useStyles()\r\n\tconst {id, year, genres, path} = data\r\n\r\n\treturn (\r\n\t\t<Grid item xs={6} md={4} lg={3} xl={2} className={s.root}>\r\n\t\t\t<Link component={BrowserLink} to={path}>\r\n\t\t\t\t<div className={s.wrapper}>\r\n\t\t\t\t\t<div className={s.chipWrapper}>\r\n\t\t\t\t\t\t{genres && genres.split(',').map((genreId, i) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\tclassName={classnames(s.chip, s.genre)}\r\n\t\t\t\t\t\t\t\t\tlabel={getItemNameById(genreId, GENRES)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t{year &&\r\n\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\t\t\tclassName={classnames(s.chip, s.year)}\r\n\t\t\t\t\t\t\t\tlabel={year}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n","export default __webpack_public_path__ + \"static/media/no-search-history.4dca89d2.png\";","import {useDispatch, useSelector} from 'react-redux'\r\nimport MovieCard from '../components/MovieCard'\r\nimport ExtendedSearchCard from '../components/ExtendedSearchCard'\r\nimport CardContainer from '../components/CardContainer'\r\nimport {Button} from '@material-ui/core'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport {clearHistory} from '../store/searchSlice/searchSlice'\r\nimport PagePlaceholder from '../components/PagePlaceholder'\r\nimport noSearchHistory from '../assets/no-search-history.png'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  btn: {\r\n    marginBottom: 16,\r\n    width: 'fit-content',\r\n    alignSelf: 'flex-end'\r\n  }\r\n}))\r\n\r\nexport default function History() {\r\n  const s = useStyles()\r\n  const searchHistoryItems = useSelector(state => state.search.history)\r\n  const anyHistoryItems = Boolean(Object.keys(searchHistoryItems)?.length)\r\n  const dispatch = useDispatch()\r\n\r\n  const handleClearHistory = () => dispatch(clearHistory())\r\n\r\n  if (!anyHistoryItems) {\r\n    return (\r\n      <PagePlaceholder\r\n        image={noSearchHistory}\r\n        text='No search history yet'\r\n      />\r\n    )\r\n  }\r\n\r\n  return (\r\n    anyHistoryItems &&\r\n      <>\r\n        <Button className={s.btn} onClick={handleClearHistory}>\r\n          clear history\r\n        </Button>\r\n        <CardContainer>\r\n          {Object.keys(searchHistoryItems).map(item => {\r\n            const searchItem = searchHistoryItems[item]\r\n            return searchItem.type === 'fromSuggest'\r\n              ? <MovieCard data={searchItem} key={item}/>\r\n              : <ExtendedSearchCard data={searchItem} key={item}/>\r\n          })}\r\n        </CardContainer>\r\n      </>\r\n\r\n  )\r\n}\r\n","import {HashRouter, Route, Switch} from \"react-router-dom\"\r\nimport {useDispatch} from 'react-redux'\r\nimport Home from './pages/Home/Home'\r\nimport Catalog from './pages/Catalog'\r\nimport Favorite from './pages/Favorite'\r\nimport Layout from './layout/Layout'\r\nimport Movie from './pages/Movie/Movie'\r\nimport {init} from './store/appSlice'\r\nimport SignIn from './pages/SignIn'\r\nimport SignUp from './pages/SignUp'\r\nimport PrivateRoute from './components/PrivateRoute'\r\nimport SearchResults from './pages/SearchResults'\r\nimport ExtendedSearch from './pages/ExtendedSearch/ExtendedSearch'\r\nimport Actor from './pages/Actor/Actor'\r\nimport History from './pages/History'\r\nimport {ToastContainer} from 'react-toastify'\r\nimport {Slide} from 'react-toastify'\r\n\r\nexport default function App() {\r\n  const dispatch = useDispatch()\r\n  dispatch(init())\r\n\r\n  return (\r\n    <HashRouter basename='/'>\r\n      <Layout>\r\n        <Switch>\r\n          <Route exact path='/' component={Home}/>\r\n          <Route path='/s' component={ExtendedSearch}/>\r\n          <Route path='/search' component={SearchResults}/>\r\n          <Route path='/movie/:id/:tab/' component={Movie}/>\r\n          <Route path='/actor/:id/:tab/' component={Actor}/>\r\n          <Route path='/:list/:page' component={Catalog}/>\r\n          <Route path='/signin' component={SignIn}/>\r\n          <Route path='/signup' component={SignUp}/>\r\n          <PrivateRoute path='/favorite' component={Favorite}/>\r\n          <PrivateRoute path='/history' component={History} showModal/>\r\n        </Switch>\r\n      </Layout>\r\n      <ToastContainer\r\n        position=\"top-right\"\r\n        transition={Slide}\r\n        autoClose={2000}\r\n        hideProgressBar\r\n        rtl={false}\r\n        pauseOnFocusLoss={false}\r\n        draggable\r\n        pauseOnHover={false}\r\n      />\r\n    </HashRouter>\r\n  )\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export function storage (key, data, fallback) {\r\n\tif (!data) {\r\n\t\ttry {\r\n\t\t\treturn JSON.parse(localStorage.getItem(key))\r\n\t\t} catch (e) {\r\n\t\t\treturn fallback || e\r\n\t\t}\r\n\t}\r\n\tlocalStorage.setItem(key, JSON.stringify(data))\r\n}\r\n","import {initPages, storeCurrentPage} from '../pagesSlice'\r\nimport {storage} from '../../utils/storage'\r\nimport {clearFavorites, initFavorites, toggleFavorites} from '../moviesSlice'\r\nimport {init} from '../appSlice'\r\nimport {initAuth, signin, signout, signup} from '../authSlice'\r\nimport {clearHistory, initHistory, saveToHistory} from '../searchSlice/searchSlice'\r\n\r\nexport const localStorageMiddleware = store => next => action => {\r\n\tnext(action)\r\n\tconst authenticated = store.getState().auth.isSignedIn === true\r\n\tconst currentUser = store.getState().auth.currentUser\r\n\r\n\tif (storeCurrentPage.match(action)) {\r\n\t\tstorage('pages', store.getState().pages)\r\n\t}\r\n\tif (toggleFavorites.match(action) && authenticated) {\r\n\t\tconst favorites = store.getState().movies.favorites\r\n\t\tconst personalFavorites = {\r\n\t\t\t...storage('favorites'),\r\n\t\t\t[currentUser]: favorites\r\n\t\t}\r\n\t\tstorage('favorites', personalFavorites)\r\n\t}\r\n\tif (init.match(action)) {\r\n\t\tconst storedPages = storage('pages')\r\n\t\tconst storedUsers = storage('users')\r\n\t\tconst storedIsSignedIn = storage('isSignedIn')\r\n\t\tconst storedCurrentUser = storage('currentUser')\r\n\t\tstore.dispatch(initAuth({\r\n\t\t\tusers: storedUsers,\r\n\t\t\tisSignedIn: storedIsSignedIn,\r\n\t\t\tcurrentUser: storedCurrentUser\r\n\t\t}))\r\n\t\tstore.dispatch(initPages(storedPages))\r\n\t\tconst currentUser = store.getState().auth.currentUser\r\n\t\tconst storedFavorites = storage('favorites')?.[currentUser]\r\n\t\tconst storedHistory = storage('history')?.[currentUser]\r\n\t\tstore.dispatch(initFavorites(storedFavorites))\r\n\t\tstore.dispatch(initHistory(storedHistory))\r\n\t}\r\n\tif (signup.match(action)) {\r\n\t\tconst users = store.getState().auth.users\r\n\t\tstorage('users', users)\r\n\t}\r\n\tif (signin.match(action) || signout.match(action)) {\r\n\t\tconst isSignedIn = store.getState().auth.isSignedIn\r\n\t\tlocalStorage.setItem('isSignedIn', JSON.stringify(isSignedIn))\r\n\t\tlocalStorage.setItem('currentUser', JSON.stringify(currentUser))\r\n\t\tconst storedFavorites = storage('favorites')?.[currentUser]\r\n\t\tconst storedHistory = storage('history')?.[currentUser]\r\n\t\tstore.dispatch(initFavorites(storedFavorites))\r\n\t\tstore.dispatch(initHistory(storedHistory))\r\n\t}\r\n\tif (signout.match(action)) {\r\n\t\tstore.dispatch(clearFavorites())\r\n\t\tstore.dispatch(clearHistory())\r\n\t}\r\n\tif (clearHistory.match(action)) {\r\n\t\tstorage('history', {})\r\n\t}\r\n\tif (saveToHistory.match(action) && authenticated) {\r\n\t\tconst historyItems = store.getState().search.history\r\n\t\tconst personalHistory = {\r\n\t\t\t...storage('favorites'),\r\n\t\t\t[currentUser]: historyItems\r\n\t\t}\r\n\t\tstorage('history', personalHistory)\r\n\t}\r\n}\r\n","import {setAuthModalOpened} from '../authSlice'\r\n\r\nconst authRequiredActionTypes = [\r\n\t'movies/toggleFavorites',\r\n\t'app/triggerAuthModal'\r\n]\r\n\r\nexport const authRequiredMiddleware = store => next => action => {\r\n\tnext(action)\r\n\tconst notAuthenticated = store.getState().auth.isSignedIn === false\r\n\tconst actionRequiresAuth = authRequiredActionTypes.includes(action.type)\r\n\tconst shouldCatchAction = notAuthenticated && actionRequiresAuth\r\n\r\n\tif (shouldCatchAction) {\r\n\t\tif (action.type === 'movies/toggleFavorites') {\r\n\t\t\tstore.dispatch(setAuthModalOpened(true))\r\n\t\t}\r\n\t\tif (action.type === 'app/triggerAuthModal') {\r\n\t\t\tstore.dispatch(setAuthModalOpened(true))\r\n\t\t}\r\n\t}\r\n}","import {configureStore} from '@reduxjs/toolkit'\r\nimport {authReducer} from './authSlice'\r\nimport {pagesReducer} from './pagesSlice'\r\nimport {moviesReducer} from './moviesSlice'\r\nimport {moviesApi} from '../services/moviesApi'\r\nimport {localStorageMiddleware} from './middlewares/localStorage'\r\nimport {authRequiredMiddleware} from './middlewares/authRequired'\r\nimport {appReducer} from './appSlice'\r\nimport {searchReducer} from './searchSlice/searchSlice'\r\n\r\nexport const store = configureStore({\r\n\treducer: {\r\n\t\tapp: appReducer,\r\n\t\tauth: authReducer,\r\n\t\tpages: pagesReducer,\r\n\t\tmovies: moviesReducer,\r\n\t\tsearch: searchReducer,\r\n\t\t[moviesApi.reducerPath]: moviesApi.reducer\r\n\t},\r\n\tmiddleware: (getDefaultMiddleware) => {\r\n\t\treturn getDefaultMiddleware().concat(\r\n\t\t\tmoviesApi.middleware,\r\n\t\t\tauthRequiredMiddleware,\r\n\t\t\tlocalStorageMiddleware\r\n\t\t)\r\n\t}\r\n})\r\n\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\nimport './styles/index.sass'\r\nimport App from './App'\r\nimport reportWebVitals from './reportWebVitals'\r\nimport {store} from './store/store'\r\nimport {Provider} from 'react-redux'\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n    <App />\r\n\t</Provider>,\r\n  document.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}