(this["webpackJsonpintensive-project"]=this["webpackJsonpintensive-project"]||[]).push([[0],{216:function(e,t,a){},218:function(e,t,a){},344:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(17),i=a.n(n),c=(a(216),a(217),a(218),a(15)),o=a(23),s=a(7),l=a(160),u=a(41),d=a(36);function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",a=e.toString().split(".");return a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,t),a.join(".")}var j=function(e){return{poster:e.poster_path?N+e.poster_path:null,genres:e.genre_ids,release:e.release_date,title:e.title,id:e.id,rating:e.vote_average,votesCount:e.vote_count,overview:e.overview}},h=function(e){var t=e.results[function(e,t){var a=e+Math.random()*(t+1-e);return Math.floor(a)}(0,19)];return j(t)},m=function(e){var t=e.total_pages,a=e.total_results;return{totalPages:t,results:e.results.map(j),totalResults:a}},b=function(e){var t;return{poster:e.poster_path?N+e.poster_path:null,genres:e.genres.map((function(e){return e.name})).join(", "),release:null===(t=e.release_date)||void 0===t?void 0:t.split("-").reverse().join("."),overview:e.overview,title:e.title,id:e.id,tagline:e.tagline,countries:e.production_countries.map((function(e){return e.name})).join(", "),rating:e.vote_average+" / 10",votesCount:e.vote_count,runtime:e.runtime+" min",budget:p(e.budget)+"$",revenue:p(e.revenue)+"$",companies:e.production_companies.map((function(e){return e.name})).join(", ")}},g=function(e){var t;return{biography:e.biography,birthday:null===(t=e.birthday)||void 0===t?void 0:t.split("-").reverse().join("."),deathday:e.deathday,name:e.name,birthplace:e.place_of_birth,photo:N+e.profile_path}},f=function(e){return[].concat(Object(d.a)(e.backdrops.map((function(e){return N+e.file_path}))),Object(d.a)(e.posters.map((function(e){return N+e.file_path}))))},v=function(e){return e.profiles.map((function(e){return N+e.file_path}))},O=function(e){return null===e||void 0===e?void 0:e.cast.filter((function(e){return e.poster_path})).map(j)},x=function(e){return e.results.map((function(e){return{youtubeVideoId:e.key}}))},y=function(e){return e.cast.filter((function(e){return e.profile_path})).map((function(e){return{poster:N+e.profile_path,name:e.name,character:e.character,id:e.id}}))},w="api_key=9adffccf59c02bd0dc729c1d92ccd822",S="discover/movie?".concat(w,"&").concat("language=en-US&include_adult=false&include_video=false&page=1"),N="https://image.tmdb.org/t/p/w500",C=Object(l.a)({reducerPath:"moviesApi",baseQuery:Object(u.d)({baseUrl:"https://api.themoviedb.org/3/"}),endpoints:function(e){return{getIntroMovie:e.query({keepUnusedDataFor:0,query:function(){return"movie/now_playing?".concat(w,"&language=en-US&page=1")},transformResponse:h}),getMovies:e.query({query:function(e){var t=e.list,a=e.page;return"movie/".concat(t,"?").concat(w,"&language=en-US&page=").concat(a)},transformResponse:m}),getMovieById:e.query({query:function(e){return"movie/".concat(e,"?").concat(w,"&language=en-US")},transformResponse:b}),getActorById:e.query({query:function(e){return"person/".concat(e,"?").concat(w,"&language=en-US")},transformResponse:g}),getMovieImages:e.query({query:function(e){return"movie/".concat(e,"/images?").concat(w,"&language=en")},transformResponse:f}),getActorImages:e.query({query:function(e){return"person/".concat(e,"/images?").concat(w)},transformResponse:v}),getActorMovies:e.query({query:function(e){return"person/".concat(e,"/movie_credits?").concat(w)},transformResponse:O}),getMovieTrailers:e.query({query:function(e){return"movie/".concat(e,"/videos?").concat(w,"&language=en")},transformResponse:x}),getActors:e.query({query:function(e){return"movie/".concat(e,"/credits?").concat(w,"&language=en-US")},transformResponse:y}),getSimilar:e.query({query:function(e){return"movie/".concat(e,"/similar?").concat(w,"&language=en-US")},transformResponse:m}),getRecommendations:e.query({query:function(e){return"movie/".concat(e,"/recommendations?").concat(w,"&language=en-US")},transformResponse:m}),searchMovieByName:e.query({query:function(e){var t=e.query,a=e.page;return"search/movie?".concat(w,"&language=en-US&query=").concat(t,"&page=").concat(a)},transformResponse:m}),searchMovies:e.query({query:function(e){var t=e.query,a=e.page,r=e.year,n=e.genres;if(t)return"search/movie?".concat(w,"&language=en-US&query=").concat(t,"&page=").concat(a);var i=r?"&year=".concat(r):"",c=n.length?"&with_genres=".concat(n):"";return"".concat(S,"&page=").concat(a).concat(i).concat(c,"&with_watch_monetization_types=flatrate")},transformResponse:m})}}}),I=C.useGetMoviesQuery,k=C.useGetIntroMovieQuery,R=C.useGetMovieByIdQuery,F=C.useGetMovieImagesQuery,q=C.useGetMovieTrailersQuery,E=C.useGetActorsQuery,_=C.useLazySearchMovieByNameQuery,B=C.useGetActorByIdQuery,A=C.useGetActorImagesQuery,P=C.useGetActorMoviesQuery,L=C.useGetSimilarQuery,U=C.useGetRecommendationsQuery,W=C.useLazySearchMoviesQuery,M=(C.getIntroMovie,a(386)),T=a(73),z=a(428),H=a(1),V=Object(M.a)((function(e){return{introSection:{marginBottom:96},wrapper:{position:"relative",display:"flex",alignItems:"center",margin:-24,backgroundPosition:"50% 50%",backgroundSize:"cover",backgroundRepeat:"no-repeat",height:500,"&::before":{content:'""',position:"absolute",inset:0,zIndex:1,backdropFilter:"blur(20px) saturate(1.4)",background:"linear-gradient(0deg, rgba(255,255,255,1) 3%, rgba(0,0,0,0) 100%)"}},text:{position:"relative",width:"40%",padding:50,zIndex:2},ratingWrapper:{display:"flex"},rating:{margin:"0 8px 16px 0"},imageWrapper:{zIndex:2},image:{zIndex:2,height:420,display:"block",paddingLeft:e.spacing(3)}}}));function G(){var e=V(),t=k(),a=t.data,r=t.isSuccess,n=r&&a,i=n.title,o=n.rating,s=n.overview,l=n.id;return r&&Object(H.jsx)("section",{className:e.introSection,children:Object(H.jsxs)("div",{className:e.wrapper,style:{backgroundImage:"url(".concat(a.poster,")")},children:[Object(H.jsx)("div",{className:e.imageWrapper,children:Object(H.jsx)(c.b,{to:"/movie/".concat(l,"/images"),children:Object(H.jsx)("img",{src:a.poster,alt:a.title,className:e.image})})}),Object(H.jsxs)("div",{className:e.text,children:[Object(H.jsx)(T.a,{variant:"h4",gutterBottom:!0,color:"textPrimary",children:i}),Object(H.jsxs)("div",{className:e.ratingWrapper,children:[Object(H.jsx)(z.a,{value:o/2,readOnly:!0,className:e.rating}),Object(H.jsx)(T.a,{children:o})]}),Object(H.jsx)(T.a,{variant:"body2",children:s})]})]})})}var Q=a(421),Y=a(393),D=a(419),Z=a(390),J=a(391),$=a(392),K=(a(229),a(166)),X=a.n(K),ee=a(167),te=a.n(ee),ae=a(34),re=a.n(ae),ne=Object(M.a)((function(e){return{wrapper:{marginBottom:96,position:"relative",height:"100%"},slider:{position:"static"},image:{minHeight:180,display:"block",maxHeight:300},heading:{marginBottom:8,display:"flex",justifyContent:"space-between",alignItems:"center"},text:{display:"flex",alignItems:"baseline"},link:{transition:"color .3s ease","&:hover":{color:e.palette.secondary.main}},arrowsWrapper:{display:"flex"},arrow:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"inherit",borderColor:"inherit",border:0,height:40,width:40,cursor:"pointer",borderRadius:"50%","&:hover":{color:"red"},"&:disabled:hover":{color:"#bdbcbc",cursor:"default"}}}}));function ie(e){var t=e.title,a=e.list,r=ne(),n=I({list:a,page:1}),i=n.isSuccess,o=n.data,s=null===o||void 0===o?void 0:o.results;return i&&Object(H.jsx)("div",{className:r.wrapper,children:Object(H.jsxs)(Q.a,{spaceBetween:16,slidesPerView:2,className:r.slider,navigation:{nextEl:".slider-arrow_next",prevEl:".slider-arrow_prev"},scrollbar:{type:"progressbar",draggable:!0},breakpoints:{1500:{slidesPerView:8},1200:{slidesPerView:6},1e3:{slidesPerView:5},823:{slidesPerView:4},570:{slidesPerView:3}},children:[s.map((function(e){return Object(H.jsxs)(Y.a,{children:[Object(H.jsx)(c.b,{to:"/movie/".concat(e.id,"/images"),children:Object(H.jsx)("img",{alt:e.title,src:e.poster,className:r.image})}),Object(H.jsx)(T.a,{variant:"subtitle2",noWrap:!0,children:e.title})]},e.id)})),Object(H.jsxs)("div",{slot:"container-start",className:r.heading,children:[Object(H.jsxs)("div",{className:r.text,children:[Object(H.jsxs)(T.a,{variant:"h5",style:{marginRight:16},children:[t," movies"]}),Object(H.jsx)(c.b,{to:"/".concat(a,"/1"),children:Object(H.jsx)(T.a,{variant:"inherit",className:r.link,children:"show all"})})]}),Object(H.jsxs)("div",{className:r.arrowsWrapper,children:[Object(H.jsx)("button",{type:"button",className:re()("slider-arrow_prev",r.arrow),children:Object(H.jsx)(X.a,{className:"slider-arrow_prev"})}),Object(H.jsx)("button",{type:"button",className:re()("slider-arrow_next",r.arrow),children:Object(H.jsx)(te.a,{})})]})]})]})})}D.a.use([Z.a,J.a,$.a]);var ce=[{title:"Now playing",list:"now_playing"},{title:"Popular",list:"popular"},{title:"Top rated",list:"top_rated"},{title:"Upcoming",list:"upcoming"}];function oe(){return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(G,{}),ce.map((function(e){return Object(H.jsx)(ie,{title:e.title,list:e.list},e.list)}))]})}var se=a(48),le=a(394);function ue(e){var t=e.children;return Object(H.jsx)(le.a,{container:!0,spacing:3,style:{flexGrow:3},children:t})}var de=a(422),pe=Object(M.a)({container:{margin:"30px 0 10px",display:"flex",justifyContent:"center",flexGrow:2,alignItems:"end"}});function je(e){var t=e.count,a=e.page,r=e.handlePageChange,n=pe();return Object(H.jsx)("div",{className:n.container,children:Object(H.jsx)(de.a,{size:"large",variant:"outlined",color:"primary",count:t,page:a,onChange:r})})}var he=a(9),me=Object(he.d)({name:"pages",initialState:{now_playing:1,popular:1,top_rated:1,upcoming:1},reducers:{initPages:function(e,t){var a=t.payload;return a?Object.keys(a).forEach((function(t){e[t]=a[t]})):e},storeCurrentPage:function(e,t){var a=t.payload;e[a.list]=a.page}}}),be=me.reducer,ge=me.actions,fe=ge.storeCurrentPage,ve=ge.initPages;function Oe(e){var t=e.deps;return Object(r.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),Object(d.a)(t)),null}var xe=a(401),ye=a(395),we=a(400),Se=a(398),Ne=a(399),Ce=a(397),Ie=a(51),ke=Object(he.d)({name:"auth",initialState:{isSignedIn:!1,isAuthModalOpened:!1,currentUser:null,users:{}},reducers:{initAuth:function(e,t){var a=t.payload;e.users=a.users||{},e.isSignedIn=a.isSignedIn||!1,e.currentUser=a.currentUser||null},signin:function(e,t){var a,r,n=t.payload,i=null===(a=e.users[n.email])||void 0===a?void 0:a.email,c=null===(r=e.users[n.email])||void 0===r?void 0:r.password;i===n.email&&c===n.password&&(e.isSignedIn=!0,e.currentUser=i)},signout:function(e){e.isSignedIn=!1,e.currentUser=null},setAuthModalOpened:function(e,t){var a=t.payload;e.isAuthModalOpened=a},signup:function(e,t){var a=t.payload;e.users[a.email]||(e.users[a.email]=a,Ie.c.success("Account created successfully"))}}}),Re=ke.reducer,Fe=ke.actions,qe=Fe.signin,Ee=Fe.signout,_e=Fe.setAuthModalOpened,Be=Fe.signup,Ae=Fe.initAuth;function Pe(e){var t=e.title,a=void 0===t?"You must be signed in":t,r=Object(o.useHistory)(),n=Object(s.e)((function(e){return e.auth.isAuthModalOpened})),i=Object(s.d)();return Object(H.jsxs)(ye.a,{open:n,onClose:function(){return i(_e(!1))},"aria-labelledby":"authentication-dialog-title","aria-describedby":"authentication-dialog-description",children:[Object(H.jsx)(Ce.a,{id:"authentication-dialog-title",children:"".concat(a)}),Object(H.jsx)(Se.a,{children:Object(H.jsx)(Ne.a,{id:"authentication-dialog-description",children:"In order to use all features of current application, please login or create a new account."})}),Object(H.jsxs)(we.a,{children:[Object(H.jsx)(xe.a,{onClick:function(){r.push("/signin"),i(_e(!1))},color:"primary",children:"Sign in"}),Object(H.jsx)(xe.a,{onClick:function(){r.push("/signup"),i(_e(!1))},color:"primary",autoFocus:!0,children:"Sign up"})]})]})}var Le=a(22),Ue=a(404),We=a(405),Me=a(402),Te=Object(M.a)({container:{height:0,top:12,left:12,right:12,bottom:12,overflow:"hidden",paddingTop:"150.27%",position:"absolute"},cardLoader:{position:"absolute",top:0,left:0,width:"100%",height:"calc(100% - 34px)",display:"block"},textLoader:{position:"absolute",bottom:12,left:0,width:"100%",height:22}});function ze(){var e=Te();return Object(H.jsxs)("div",{className:e.container,children:[Object(H.jsx)(Me.a,{variant:"rect",className:e.cardLoader}),Object(H.jsx)(Me.a,{variant:"text",className:e.textLoader})]})}var He=a.p+"static/media/poster-placeholder.78f0fc92.png",Ve=a(403),Ge=a(168),Qe=a.n(Ge),Ye=a(169),De=a.n(Ye),Ze=Object(M.a)((function(e){return{favoriteBtn:{color:"#FFF",transition:"all .3s ease","&:hover":{color:e.palette.secondary.main}}}}));function Je(e){var t=e.checked,a=e.isSignedIn,r=e.onClick,n=Ze();return Object(H.jsx)(Ve.a,{"aria-label":"add to favorites",size:"small",onClick:r,children:t&&a?Object(H.jsx)(Qe.a,{color:"secondary"}):Object(H.jsx)(De.a,{className:n.favoriteBtn})})}var $e=a(44),Ke=a(37),Xe=Object(he.d)({name:"movies",initialState:{favorites:{}},reducers:{initFavorites:function(e,t){var a=t.payload;return a&&(e.favorites=Object(Ke.a)({},a)),e},toggleFavorites:function(e,t){var a,r=t.payload;r.currentUser&&((null===(a=e.favorites)||void 0===a?void 0:a[r.data.id])?(delete e.favorites[r.data.id],Ie.c.warn("".concat(r.data.title," removed from favorites"))):(e.favorites=Object(Ke.a)(Object(Ke.a)({},e.favorites),{},Object($e.a)({},r.data.id,r.data)),Ie.c.success("".concat(r.data.title," added to favorites"))))},clearFavorites:function(e){Object.keys(e.favorites).forEach((function(t){delete e.favorites[t]}))}}}),et=Xe.reducer,tt=Xe.actions,at=tt.toggleFavorites,rt=tt.initFavorites,nt=tt.clearFavorites;tt.isInFavorites;function it(e){var t=e.delay,a=e.component,n=e.children,i=Object(r.useState)(!1),c=Object(Le.a)(i,2),o=c[0],s=c[1];return Object(r.useEffect)((function(){var e=setTimeout((function(){return s(!0)}),t);return function(){return clearTimeout(e)}}),[t]),o?a||n:null}var ct=Object(M.a)((function(e){return{root:{position:"relative","& .appear-item":{opacity:0},"&:hover .appear-item":{opacity:1},"&:hover .scale-item":{transform:"scale(1.05)"}},link:{display:"block",width:"100%"},wrapper:{overflow:"hidden",width:"100%",height:0,paddingTop:"150.27%",position:"relative"},image:{imageRendering:"-webkit-optimize-contrast",aspectRatio:"2/3",backfaceVisibility:"hidden",position:"absolute",top:0,left:0,transition:"transform .3s ease-in-out, opacity .7s ease",width:"100%",height:"100%",display:"block","&:hover":{transform:"scale(1.05)"}},hiddenImage:{opacity:0,transform:"scale(.85)"},visibleImage:{opacity:1,transform:"scale(1)"},actions:{position:"absolute",display:"flex",justifyContent:"end",inset:12,zIndex:1,height:16,background:"rgba(0,0,0,.5)",transition:"all .3s ease",backdropFilter:"blur(20px)"}}}));function ot(e){var t=e.data,a=ct(),n=Object(s.e)((function(e){return e.auth.isSignedIn})),i=Object(s.e)((function(e){return e.auth.currentUser})),o=Object(s.e)((function(e){var a;return null===(a=e.movies.favorites)||void 0===a?void 0:a[t.id]})),l=Object(s.d)(),u=t.poster,d=t.title,p=t.id,j=t.path,h=Object(r.useState)(!1),m=Object(Le.a)(h,2),b=m[0],g=m[1];return Object(H.jsxs)(le.a,{item:!0,xs:6,md:4,lg:3,xl:2,className:a.root,children:[Object(H.jsx)(Ue.a,{className:re()(a.actions,"appear-item"),children:Object(H.jsx)(Je,{isSignedIn:n,onClick:function(){l(at({currentUser:i,data:t}))},checked:Boolean(o)})}),!b&&Object(H.jsx)(it,{delay:500,children:Object(H.jsx)(ze,{})}),Object(H.jsx)(We.a,{component:c.b,to:j||"/movie/".concat(p,"/images"),className:a.link,children:Object(H.jsx)("div",{className:a.wrapper,children:Object(H.jsx)("img",{src:u||He,className:re()(a.image,"scale-item",b?a.visibleImage:a.hiddenImage),alt:"",onLoad:function(e){return g(!0)}})})}),b&&Object(H.jsx)(T.a,{variant:"subtitle2",noWrap:!0,children:d})]})}var st=Object(M.a)((function(e){return{wrapper:{display:"flex",marginTop:"10%",flexDirection:"column",alignItems:"center",maxHeight:300}}}));function lt(e){var t=e.image,a=e.text,r=st();return Object(H.jsxs)("div",{className:r.wrapper,children:["object"===typeof t?t:Object(H.jsx)("img",{src:t,alt:""}),Object(H.jsx)(T.a,{variant:"h2",color:"textSecondary",children:a})]})}var ut=a.p+"static/media/404-not-found.12af02e8.png",dt=Object(M.a)((function(e){return{loader:{aspectRatio:"2/3",width:"100%",height:"100%"}}}));function pt(e){var t=e.cardsCount,a=dt(),r=Array(t).fill("").map((function(e,t){return Object(H.jsxs)(le.a,{item:!0,xs:6,md:4,lg:3,xl:2,children:[Object(H.jsx)(Me.a,{variant:"rect",className:a.loader}),Object(H.jsx)(Me.a,{variant:"text"})]},t)}));return Object(H.jsx)(ue,{children:r})}var jt,ht;function mt(){var e=Object(se.useParams)(),t=e.list,a=e.page,n=Object(se.useHistory)(),i=Object(s.d)(),c=I({list:t,page:a}),o=c.data,l=c.isFetching,u=c.isError,d=null===o||void 0===o?void 0:o.totalPages,p=null===o||void 0===o?void 0:o.results;return Object(r.useEffect)((function(){i(fe(a>d?{list:t,page:1}:{list:t,page:a}))}),[t,a]),l?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(Oe,{deps:[t,a]}),Object(H.jsx)(pt,{cardsCount:20})]}):u||a>d?Object(H.jsx)(lt,{image:ut}):(null===p||void 0===p?void 0:p.length)>0&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(Oe,{deps:[t,a]}),Object(H.jsx)(ue,{children:p.map((function(e){return Object(H.jsx)(ot,{data:e,id:e.id},e.id)}))}),Object(H.jsx)(je,{count:d,page:Number(a>d?1:a),handlePageChange:function(e,a){return n.push("/".concat(t,"/").concat(a))}}),Object(H.jsx)(Pe,{})]})}var bt=["title","titleId"];function gt(){return gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},gt.apply(this,arguments)}function ft(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function vt(e,t){var a=e.title,n=e.titleId,i=ft(e,bt);return r.createElement("svg",gt({width:626,height:626,viewBox:"0 0 626 626",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},i),a?r.createElement("title",{id:n},a):null,jt||(jt=r.createElement("circle",{cx:313,cy:313,r:313,fill:"#3F51B5"})),ht||(ht=r.createElement("path",{d:"M476.241 313.35C446.445 370.8 366.735 448.932 321.659 490.552C316.812 494.938 309.442 494.938 304.596 490.552C259.265 448.932 179.555 370.8 149.759 313.35C84.3093 186.96 249.333 102.7 313 229.09C376.667 102.7 541.691 186.96 476.241 313.35Z",fill:"white"})))}var Ot=r.forwardRef(vt);a.p;function xt(){var e=Object(s.e)((function(e){return e.movies.favorites})),t=e&&Object.values(e);return Object(H.jsxs)(H.Fragment,{children:[!(null===t||void 0===t?void 0:t.length)&&Object(H.jsx)(lt,{image:Object(H.jsx)(Ot,{}),text:"No favorites yet"}),Object(H.jsx)(ue,{children:t&&t.map((function(e){return Object(H.jsx)(ot,{type:"movie",data:e,id:e.id},e.id)}))})]})}var yt=a(409),wt=a(410),St=a(412),Nt=a(193),Ct=a(174),It=a.n(Ct),kt=a(12),Rt=a(424),Ft=a(170),qt=a.n(Ft);var Et=Object(he.d)({name:"search",initialState:{query:"",isSearchFetching:!1,searchResults:null,searchResultsCount:null,suggestResults:null,selectedGenres:[],enteredYear:"",filterQuery:{},isYearValid:!0,history:{}},reducers:{initHistory:function(e,t){var a=t.payload;return a&&(e.history=a),e},setInputQuery:function(e,t){var a=t.payload;e.query=a},setSearchFetching:function(e,t){var a=t.payload;e.isSearchFetching=a},setSearchResults:function(e,t){var a=t.payload;e.searchResults=a},setSuggestResults:function(e,t){var a=t.payload;e.suggestResults=a},setGenres:function(e,t){var a=t.payload;e.selectedGenres=a},setYear:function(e,t){var a=t.payload;e.enteredYear=a},setYearValidity:function(e,t){var a=t.payload;e.isYearValid=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(new Date).getFullYear();return!isNaN(e)&&e>t&&e<a}(a,1959),""===a&&(e.isYearValid=!0)},setFilterQuery:function(e){e.filterQuery.genres=e.selectedGenres.join(","),e.filterQuery.year=e.enteredYear},clearFilters:function(e){e.selectedGenres=[],e.enteredYear="",e.filterQuery={},e.isYearValid=!0},saveToHistory:function(e,t){var a=t.payload,r=a.id,n=a.path,i=a.currentUser,c=a.poster,o=a.genres,s=a.year,l=a.type,u=a.title;if(i){var d,p;if(null===(d=e.history)||void 0===d||null===(p=d[i])||void 0===p?void 0:p[r])return e;e.history=Object(Ke.a)(Object(Ke.a)({},e.history),{},Object($e.a)({},r,{id:r,path:n,poster:c,genres:o,year:s,type:l,title:u}))}},clearHistory:function(e){Object.keys(e.history).forEach((function(t){delete e.history[t]}))},setSearchResultsCount:function(e,t){var a=t.payload;e.searchResultsCount=a}}}),_t=Et.reducer,Bt=Et.actions,At=Bt.setInputQuery,Pt=Bt.setSearchFetching,Lt=Bt.setSearchResults,Ut=Bt.setSuggestResults,Wt=Bt.setGenres,Mt=Bt.setFilterQuery,Tt=Bt.clearFilters,zt=Bt.setYear,Ht=Bt.setYearValidity,Vt=Bt.saveToHistory,Gt=Bt.initHistory,Qt=Bt.clearHistory,Yt=Bt.setSearchResultsCount;function Dt(e,t){var a=Object(r.useRef)(!0);Object(r.useEffect)((function(){if(!a.current)return e();a.current=!1}),t)}var Zt=a(171),Jt=a.n(Zt),$t=a(406),Kt=a(346),Xt=a(407),ea=240,ta=Object(M.a)((function(e){return{container:{backgroundColor:"#665ede3b",backdropFilter:"blur(30px)",position:"absolute",top:64,left:ea,right:0,maxHeight:400,overflowY:"auto"},image:{height:80,marginRight:24},itemText:{display:"flex",flexDirection:"column"}}}));function aa(e){var t=e.moviesData,a=e.onClick,r=ta();return Object(H.jsx)("div",{className:r.container,children:Object(H.jsxs)($t.a,{children:[t.length>0&&t.map((function(e){return Object(H.jsx)(c.b,{to:{pathname:"/movie/".concat(e.id,"/images"),state:{fromSuggest:!0}},onClick:a,children:Object(H.jsxs)(Kt.a,{button:!0,children:[Object(H.jsx)("img",{src:e.poster||He,className:r.image,alt:""}),Object(H.jsxs)("div",{className:r.itemText,children:[Object(H.jsx)(Xt.a,{children:e.title}),Object(H.jsx)(Xt.a,{children:e.rating.toFixed(1)})]})]})},e.id)})),0===t.length&&Object(H.jsx)(Kt.a,{children:Object(H.jsx)(T.a,{children:"No results found"})})]})})}var ra=Object(M.a)((function(e){return{form:{flexGrow:1},search:{display:"flex",position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(kt.a)(e.palette.common.white,.2),marginRight:e.spacing(2),marginLeft:0,transition:"all .3s ease",flexGrow:1,zIndex:100},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},inputRoot:{borderRadius:e.shape.borderRadius,width:"100%",color:function(t){return t.validInput?"inherit":e.palette.grey[50]},backgroundColor:function(t){return t.validInput?"inherit":e.palette.secondary.light}},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),width:"100%",borderRadius:e.shape.borderRadius,transition:"all .3s ease","&:focus":{backgroundColor:Object(kt.a)(e.palette.common.white,.25)},"&::placeholder":{transition:"color .3s ease"},"&:focus::placeholder":{color:"transparent"}},extendedSearch:{padding:"4px 8px",borderRadius:0},extendedSearchIcon:{color:function(t){return"/s"===t.pathname?e.palette.secondary.main:e.palette.grey[50]}},link:{display:"flex"}}}));function na(){var e=Object(s.e)((function(e){return e.search.query})),t=Object(r.useState)(!0),a=Object(Le.a)(t,2),n=a[0],i=a[1],l=Object(o.useLocation)(),u=l.search,d=l.pathname,p=ra({validInput:n,pathname:d}),j=Object(o.useHistory)(),h=_(),m=Object(Le.a)(h,2),b=m[0],g=m[1],f=g.data,v=g.isSuccess,O=g.isFetching,x=Object(s.e)((function(e){var t;return null===(t=e.search.suggestResults)||void 0===t?void 0:t.results})),y=Object(s.d)(),w=Object(r.useRef)(),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"withBlur";y(At("")),"withBlur"===e&&w.current.blur(),"withFocus"===e&&w.current.focus()},N=function(e,t){var a;return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var c=this;a&&clearTimeout(a),a=setTimeout((function(){a=null,e.apply(c,n)}),t)}}((function(e){e.length&&b({query:e,page:1})}),500),C=Object(r.useCallback)(N,[]);return Dt((function(){y(Pt(!!e.length))}),[e]),Dt((function(){y(Pt(O))}),[O]),Dt((function(){v&&(y(Ut(f)),u||y(Lt(f)))}),[v,f]),Object(r.useEffect)((function(){C(e),!e.length&&y(Ut(null))}),[e]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)("div",{className:p.search,children:[Object(H.jsx)("div",{className:p.searchIcon,children:Object(H.jsx)(qt.a,{})}),Object(H.jsx)("form",{onSubmit:function(){if(!e.length)return i(!1);S(),y(Lt(f)),j.push("/search?q=".concat(e,"&page=1"))},className:p.form,children:Object(H.jsx)(Rt.a,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430",classes:{root:p.inputRoot,input:p.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){i(!0),y(At(e.target.value))},onBlur:function(){return i(!0)},inputRef:w,value:e})}),Object(H.jsx)(c.b,{to:"/s",className:p.link,children:Object(H.jsx)(Ve.a,{disableRipple:!0,className:p.extendedSearch,title:"extended search",children:Object(H.jsx)(Jt.a,{fontSize:"small",className:p.extendedSearchIcon})})})]}),e&&Object(H.jsx)(xe.a,{color:"inherit",onClick:function(){return S("withFocus")},children:"Clear"}),x&&Object(H.jsx)(aa,{moviesData:x,onClick:S})]})}var ia=a(172),ca=a.n(ia),oa=Object(M.a)((function(e){return{logo:{width:ea,height:64,display:"flex",alignItems:"center",justifyContent:"center"},icon:{fontSize:40,marginRight:8}}}));function sa(){var e=oa(),t="/"===Object(se.useLocation)().pathname;return Object(H.jsx)(c.b,{to:"/",children:Object(H.jsxs)("div",{className:e.logo,children:[Object(H.jsx)(ca.a,{className:e.icon,color:t?"action":"inherit"}),Object(H.jsx)(T.a,{variant:"h6",color:t?"textPrimary":"inherit",children:"react movies"})]})})}var la=a(6),ua=a(425),da=a(411),pa=Object(M.a)((function(e){return{grow:{flexGrow:1},exitBtn:{paddingTop:0,paddingBottom:0},toolbar:{paddingLeft:0,position:"relative"},authBtn:{marginLeft:"auto"},loader:{position:"absolute",bottom:0,left:0,right:0,height:4}}})),ja=Object(la.a)((function(e){return{tooltip:{backgroundColor:e.palette.secondary.light,color:"#fff",boxShadow:e.shadows[1],fontSize:11,marginTop:0}}}))(ua.a);function ha(e){var t=e.children,a=pa(),n=Object(s.d)(),i=Object(s.e)((function(e){return e.auth.isSignedIn})),o=Object(s.e)((function(e){return e.auth.currentUser})),l=Object(s.e)((function(e){return e.search.isSearchFetching})),u=Object(r.useState)(null),d=Object(Le.a)(u,2),p=d[0],j=d[1],h=Boolean(p);return Object(H.jsxs)("div",{className:a.grow,children:[Object(H.jsx)(yt.a,{position:"sticky",elevation:0,children:Object(H.jsxs)(wt.a,{className:a.toolbar,children:[Object(H.jsx)(sa,{}),Object(H.jsx)(na,{}),i?Object(H.jsx)(ja,{title:o,placement:"bottom",children:Object(H.jsx)(Ve.a,{edge:"end","aria-haspopup":"true",onClick:function(e){return j(e.currentTarget)},color:"inherit",className:a.authBtn,children:Object(H.jsx)(It.a,{})})}):Object(H.jsx)(c.b,{to:"/signin",children:Object(H.jsx)(xe.a,{color:"inherit",children:"sign in"})}),l&&Object(H.jsx)(da.a,{color:"secondary",className:a.loader})]})}),Object(H.jsx)(Nt.a,{anchorEl:p,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:h,onClose:function(){return j(null)},children:Object(H.jsx)(St.a,{className:a.exitBtn,onClick:function(){j(null),n(Ee())},children:"Logout"})}),t]})}var ma=a(426),ba=a(179),ga=a.n(ba),fa=a(415),va=a(175),Oa=a.n(va),xa=a(176),ya=a.n(xa),wa=a(177),Sa=a.n(wa),Na=a(178),Ca=a.n(Na),Ia=a(180),ka=a.n(Ia),Ra=a(181),Fa=a.n(Ra),qa=a(413),Ea=Object(M.a)((function(e){return{activeNav:{color:e.palette.secondary.main,"&:hover":{backgroundColor:"transparent"}},listItemIcon:{minWidth:56},listItemIconActive:{color:e.palette.secondary.main},listItem:{margin:"24px 0"},toolbar:e.mixins.toolbar}}));function _a(e){var t=e.linkItems,a=void 0===t?[]:t,r=Ea(),n=Object(se.useLocation)().pathname;return Object(H.jsx)($t.a,{children:a.map((function(e){return Object(H.jsx)(c.c,{to:e.path,children:Object(H.jsxs)(Kt.a,{button:!0,disableRipple:!0,className:n===e.path?r.activeNav:null,children:[Object(H.jsx)(qa.a,{className:re()(r.listItemIcon,n===e.path&&r.listItemIconActive),children:e.icon}),Object(H.jsx)(Xt.a,{primary:e.text})]})},e.text)}))})}var Ba=a(414),Aa=Object(M.a)((function(e){return{root:{display:"flex"},appBar:{width:"calc(100% - ".concat(ea,"px)"),marginLeft:ea},drawer:{width:ea,flexShrink:0},drawerPaper:{width:ea,top:64,height:"calc(100vh - ".concat(64,"px)"),position:"fixed"},content:{flexGrow:1,padding:e.spacing(3),display:"flex",flexDirection:"column",minHeight:"calc(100vh - ".concat(64,"px * 2 - 24px * 2)"),width:"calc(100% - ".concat(ea,")"),overflow:"hidden"}}}));function Pa(e){var t=e.children,a=Aa(),r=Object(s.e)((function(e){return e.auth.isSignedIn})),n=Object(s.e)((function(e){return e.pages})),i=Object(s.e)((function(e){return e.movies.favorites})),c=Object(s.e)((function(e){return e.search.history})),l=i&&Object.keys(i).length,u=c&&Object.keys(c).length,d=Object(s.e)((function(e){return e.search.searchResultsCount})),p=Object(s.d)(),j=Object(o.useLocation)().search,h=Object(o.useLocation)().pathname,m=[{text:"Now playing",icon:Object(H.jsx)(Oa.a,{color:"inherit"}),path:"/now_playing/".concat(n.now_playing)},{text:"Popular",icon:Object(H.jsx)(ya.a,{color:"inherit"}),path:"/popular/".concat(n.popular)},{text:"Top Rated",icon:Object(H.jsx)(Sa.a,{color:"inherit"}),path:"/top_rated/".concat(n.top_rated)},{text:"Upcoming",icon:Object(H.jsx)(Ca.a,{color:"inherit"}),path:"/upcoming/".concat(n.upcoming)},{text:"Search history",icon:Object(H.jsx)(Ba.a,{badgeContent:u,color:"primary",children:Object(H.jsx)(ga.a,{color:"inherit"})}),path:"/history"}];return r&&m.push({text:"Favorite",icon:Object(H.jsx)(Ba.a,{badgeContent:l,color:"primary",children:Object(H.jsx)(ka.a,{color:"inherit"})}),path:"/favorite"}),j&&m.push({text:"Search",icon:Object(H.jsx)(Ba.a,{badgeContent:d,max:999,color:"primary",children:Object(H.jsx)(Fa.a,{color:"inherit",style:{fontSize:28}})}),path:h}),Object(H.jsxs)("div",{className:a.root,children:[Object(H.jsxs)(ma.a,{className:a.drawer,variant:"permanent",classes:{paper:a.drawerPaper},anchor:"left",onClick:function(){return p(At(""))},children:[Object(H.jsx)(_a,{linkItems:m}),Object(H.jsx)(fa.a,{})]}),Object(H.jsx)("main",{className:a.content,children:t})]})}var La,Ua,Wa=a(416),Ma=a(182),Ta=a.n(Ma),za=["title","titleId"];function Ha(){return Ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ha.apply(this,arguments)}function Va(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Ga(e,t){var a=e.title,n=e.titleId,i=Va(e,za);return r.createElement("svg",Ha({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 190.24 81.52",ref:t,"aria-labelledby":n},i),La||(La=r.createElement("defs",null,r.createElement("style",null,".cls-1{fill:url(#linear-gradient);}"),r.createElement("linearGradient",{id:"linear-gradient",y1:40.76,x2:190.24,y2:40.76,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{offset:0,stopColor:"#90cea1"}),r.createElement("stop",{offset:.56,stopColor:"#3cbec9"}),r.createElement("stop",{offset:1,stopColor:"#00b3e5"})))),void 0===a?r.createElement("title",{id:n},"Asset 2"):a?r.createElement("title",{id:n},a):null,Ua||(Ua=r.createElement("g",{id:"Layer_2","data-name":"Layer 2"},r.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},r.createElement("path",{className:"cls-1",d:"M105.67,36.06h66.9A17.67,17.67,0,0,0,190.24,18.4h0A17.67,17.67,0,0,0,172.57.73h-66.9A17.67,17.67,0,0,0,88,18.4h0A17.67,17.67,0,0,0,105.67,36.06Zm-88,45h76.9A17.67,17.67,0,0,0,112.24,63.4h0A17.67,17.67,0,0,0,94.57,45.73H17.67A17.67,17.67,0,0,0,0,63.4H0A17.67,17.67,0,0,0,17.67,81.06ZM10.41,35.42h7.8V6.92h10.1V0H.31v6.9h10.1Zm28.1,0h7.8V8.25h.1l9,27.15h6l9.3-27.15h.1V35.4h7.8V0H66.76l-8.2,23.1h-.1L50.31,0H38.51ZM152.43,55.67a15.07,15.07,0,0,0-4.52-5.52,18.57,18.57,0,0,0-6.68-3.08,33.54,33.54,0,0,0-8.07-1h-11.7v35.4h12.75a24.58,24.58,0,0,0,7.55-1.15A19.34,19.34,0,0,0,148.11,77a16.27,16.27,0,0,0,4.37-5.5,16.91,16.91,0,0,0,1.63-7.58A18.5,18.5,0,0,0,152.43,55.67ZM145,68.6A8.8,8.8,0,0,1,142.36,72a10.7,10.7,0,0,1-4,1.82,21.57,21.57,0,0,1-5,.55h-4.05v-21h4.6a17,17,0,0,1,4.67.63,11.66,11.66,0,0,1,3.88,1.87A9.14,9.14,0,0,1,145,59a9.87,9.87,0,0,1,1,4.52A11.89,11.89,0,0,1,145,68.6Zm44.63-.13a8,8,0,0,0-1.58-2.62A8.38,8.38,0,0,0,185.63,64a10.31,10.31,0,0,0-3.17-1v-.1a9.22,9.22,0,0,0,4.42-2.82,7.43,7.43,0,0,0,1.68-5,8.42,8.42,0,0,0-1.15-4.65,8.09,8.09,0,0,0-3-2.72,12.56,12.56,0,0,0-4.18-1.3,32.84,32.84,0,0,0-4.62-.33h-13.2v35.4h14.5a22.41,22.41,0,0,0,4.72-.5,13.53,13.53,0,0,0,4.28-1.65,9.42,9.42,0,0,0,3.1-3,8.52,8.52,0,0,0,1.2-4.68A9.39,9.39,0,0,0,189.66,68.47ZM170.21,52.72h5.3a10,10,0,0,1,1.85.18,6.18,6.18,0,0,1,1.7.57,3.39,3.39,0,0,1,1.22,1.13,3.22,3.22,0,0,1,.48,1.82,3.63,3.63,0,0,1-.43,1.8,3.4,3.4,0,0,1-1.12,1.2,4.92,4.92,0,0,1-1.58.65,7.51,7.51,0,0,1-1.77.2h-5.65Zm11.72,20a3.9,3.9,0,0,1-1.22,1.3,4.64,4.64,0,0,1-1.68.7,8.18,8.18,0,0,1-1.82.2h-7v-8h5.9a15.35,15.35,0,0,1,2,.15,8.47,8.47,0,0,1,2.05.55,4,4,0,0,1,1.57,1.18,3.11,3.11,0,0,1,.63,2A3.71,3.71,0,0,1,181.93,72.72Z"})))))}var Qa=r.forwardRef(Ga),Ya=(a.p,Object(M.a)((function(e){return{footer:{position:"sticky",zIndex:2100},personal:{display:"flex",flexDirection:"column",marginRight:"auto"},toolbar:{display:"flex",justifyContent:"space-between",paddingLeft:0},container:{marginLeft:ea,padding:0,maxWidth:"calc(100% - ".concat(ea,"px)")},line:{lineHeight:1.4,fontSize:".6rem",color:e.palette.grey[300]},logo:{width:48,marginLeft:8,cursor:"pointer"}}})));function Da(){var e=Ya();return Object(H.jsx)(yt.a,{position:"static",color:"primary",className:e.footer,component:"footer",children:Object(H.jsx)(Wa.a,{maxWidth:"md",className:e.container,children:Object(H.jsxs)(wt.a,{className:e.toolbar,children:[Object(H.jsx)("a",{href:"https://github.com/iv13-web/intensive-project/tree/master",target:"_blank",rel:"noreferrer",children:Object(H.jsx)(Ve.a,{color:"inherit",children:Object(H.jsx)(Ta.a,{})})}),Object(H.jsxs)("div",{className:e.personal,children:[Object(H.jsx)(T.a,{variant:"overline",className:e.line,children:"\xa9 2021 Ivanov Igor"}),Object(H.jsx)(T.a,{variant:"overline",className:e.line,children:"Built with React/Redux/RTK_Query/Material_UI"})]}),Object(H.jsx)(T.a,{variant:"overline",className:e.line,children:"Data provided by"}),Object(H.jsx)("a",{href:"https://www.themoviedb.org/documentation/api",target:"_blank",rel:"noreferrer",children:Object(H.jsx)(Qa,{className:e.logo})})]})})})}function Za(e){var t=e.children;return Object(H.jsxs)(ha,{children:[Object(H.jsx)(Pa,{children:t}),Object(H.jsx)(Da,{})]})}var Ja=Object(M.a)((function(e){return{mainWrapper:{display:"flex",marginBottom:80,minHeight:450},image:{height:450,marginRight:24},textWrapper:{boxSizing:"border-box",width:"60%"},pointCell:{width:96,verticalAlign:"top",maxHeight:160,overflow:"hidden"}}})),$a=["overview","rating","release","runtime","countries","companies","genres","budget","revenue"],Ka=function(e,t){return Object(H.jsx)(T.a,{variant:"subtitle1",color:"textSecondary",children:t?e+t:e})};function Xa(e){var t=e.data,a=t.poster,r=t.tagline,n=t.title,i=Ja();return Object(H.jsxs)("div",{className:i.mainWrapper,children:[Object(H.jsx)("img",{className:i.image,src:a,alt:a}),Object(H.jsxs)("div",{className:i.textWrapper,children:[Object(H.jsx)(T.a,{variant:"h4",color:"textSecondary",children:n}),Object(H.jsx)(T.a,{variant:"h6",color:"textSecondary",gutterBottom:!0,children:r}),Object(H.jsx)("table",{children:Object(H.jsx)("tbody",{children:$a.map((function(e){return Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{className:i.pointCell,children:Ka(e,":")}),Object(H.jsx)("td",{children:Ka(t[e]||"-")})]},e)}))})})]})]})}var er=Object(M.a)((function(e){return{item:{height:40,cursor:"pointer",color:e.palette.text.hint,width:"100%"},active:{color:e.palette.primary.main},list:{display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",marginBottom:20,backgroundColor:e.palette.grey[200],margin:"0 -24px",width:"calc(100% + 48px)",padding:0}}}));function tr(e){var t=e.children,a=e.category,r=er(),n=Object(o.useParams)(),i=n.id,s=n.tab,l=t.findIndex((function(e){return e.props.title.toLowerCase()===s}));return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("ul",{className:r.list,children:t.map((function(e,n){var o=e.props.title.toLowerCase();return Object(H.jsx)(c.b,{to:"/".concat(a,"/").concat(i,"/").concat(o),style:{width:"".concat(100/t.length,"%")},children:Object(H.jsx)(xe.a,{className:re()(r.item,Object($e.a)({},r.active,o===s)),disableRipple:!0,children:e.props.title})},n)}))}),t[l]]})}var ar=a(183),rr=(a(240),a(185)),nr=a.n(rr),ir=Object(M.a)((function(e){return{wrapper:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(13%, 1fr))",gap:24},item:{position:"relative",paddingBottom:"150%",overflow:"hidden","& .appear-item":{opacity:0},"&:hover .appear-item":{opacity:1}},image:{height:"100%",width:"100%",objectFit:"cover",position:"absolute",top:0,left:0,backgroundSize:"cover",transition:"all .3s ease"},controls:{transition:"opacity .3s ease",position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,.6)",color:e.palette.primary.main,cursor:"pointer"},zoomIcon:{pointerEvents:"none"}}}));function cr(e){var t=e.imgUrlsArray,a=ir(),n=Object(r.useState)(!1),i=Object(Le.a)(n,2),c=i[0],o=i[1],s=Object(r.useState)(0),l=Object(Le.a)(s,2),u=l[0],d=l[1];return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("div",{className:a.wrapper,children:t.map((function(e,r){return Object(H.jsxs)("div",{className:a.item,children:[Object(H.jsx)("img",{className:a.image,src:e,alt:""}),Object(H.jsx)("div",{className:re()(a.controls,"appear-item"),onClick:function(a){return function(e,a){o(!0);var r=t.findIndex((function(e){return e===a}))||0;d(r)}(0,e)},children:Object(H.jsx)(nr.a,{fontSize:"large",color:"secondary",className:a.zoomIcon})})]},r)}))}),c&&Object(H.jsx)(ar.a,{reactModalStyle:{overlay:{zIndex:2e3}},mainSrc:t[u],nextSrc:t[(u+1)%t.length],prevSrc:t[(u+t.length-1)%t.length],onCloseRequest:function(){return o(!1)},onMovePrevRequest:function(){return d((u+t.length-1)%t.length)},onMoveNextRequest:function(){return d((u+1)%t.length)}})]})}var or=a(417),sr=Object(M.a)((function(e){return{loaderWrapper:{justifyContent:"center",display:"flex",alignItems:"center",height:"100%"}}}));function lr(){var e=sr();return Object(H.jsx)(it,{delay:300,children:Object(H.jsx)("div",{className:e.loaderWrapper,children:Object(H.jsx)(or.a,{})})})}function ur(e){var t=e.id,a=e.title,r=F(t),n=r.data,i=r.isSuccess,c=r.isFetching;return i&&!n.length?Object(H.jsx)(lt,{text:"No ".concat(a," found")}):c?Object(H.jsx)(lr,{}):i&&Object(H.jsx)(cr,{imgUrlsArray:n})}var dr=a(186),pr=a.n(dr),jr=a(187),hr=a.n(jr),mr=Object(M.a)((function(e){return{wrapper:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(32%, 1fr))",gap:24},item:{overflow:"hidden",position:"relative",cursor:"pointer",aspectRatio:"4/3","& .appear-item":{opacity:0},"&:hover .appear-item":{opacity:1}},image:{transition:"all .3s ease"},btn:{pointerEvents:"none",transition:"all .3s ease",opacity:0,position:"absolute",top:0,left:0,right:0,bottom:4,color:e.palette.primary.main,backgroundColor:"rgba(0,0,0,.6)",display:"flex",justifyContent:"center",alignItems:"center",fontSize:64},loaderWrapper:{justifyContent:"center",display:"flex",alignItems:"center",height:"100%"}}}));function br(e){var t=e.id,a=e.title,n=mr(),i=q(t),c=i.data,o=i.isSuccess,s=i.isFetching,l=Object(r.useState)(!1),u=Object(Le.a)(l,2),d=u[0],p=u[1],j=Object(r.useState)(""),h=Object(Le.a)(j,2),m=h[0],b=h[1];return s?Object(H.jsx)(lr,{}):o&&!c.length?Object(H.jsx)(lt,{text:"No ".concat(a," found")}):Object(H.jsx)(H.Fragment,{children:o&&Object(H.jsxs)("div",{className:n.wrapper,children:[c.map((function(e){return Object(H.jsxs)("div",{className:n.item,children:[Object(H.jsx)("img",{onClick:function(){return t=e.youtubeVideoId,b(t),void p(!0);var t},src:"https://img.youtube.com/vi/".concat(e.youtubeVideoId,"/sddefault.jpg"),alt:""}),Object(H.jsx)("div",{className:re()(n.btn,"appear-item"),children:Object(H.jsx)(hr.a,{color:"secondary",fontSize:"inherit"})})]},e.youtubeVideoId)})),d&&Object(H.jsx)(pr.a,{channel:"youtube",autoplay:!0,isOpen:d,videoId:m,onClose:function(){return p(!1)}})]})})}var gr=Object(M.a)((function(e){return{root:{alignSelf:"stretch","& .appear-item":{opacity:0},"&:hover .appear-item":{opacity:1}},wrapper:{overflow:"hidden"},card:{position:"relative"},image:{transition:"transform .3s ease",objectFit:"cover",width:"100%",display:"block","&:hover":{transform:"scale(1.05)"}},name:{fontWeight:500}}}));function fr(e){var t=e.data,a=gr(),n=t.poster,i=t.id,o=t.name,s=t.character,l=Object(r.useState)(!1),u=Object(Le.a)(l,2),d=u[0],p=u[1];return Object(H.jsx)(le.a,{item:!0,xs:6,md:4,lg:3,xl:2,className:a.root,children:Object(H.jsxs)("div",{className:a.card,children:[!d&&Object(H.jsxs)(it,{delay:1e3,children:[Object(H.jsx)(ze,{}),Object(H.jsx)(Me.a,{variant:"text"}),Object(H.jsx)(Me.a,{variant:"text"})]}),Object(H.jsx)(c.b,{to:"/actor/".concat(i,"/photos"),children:Object(H.jsx)("div",{className:a.wrapper,children:Object(H.jsx)("img",{src:n||He,className:a.image,alt:"",onLoad:function(e){return p(!0)},style:d?{opacity:1}:{opacity:0}})})}),d&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(T.a,{variant:"subtitle1",className:a.name,noWrap:!0,children:o}),Object(H.jsx)(T.a,{variant:"subtitle1",color:"textSecondary",noWrap:!0,children:s})]})]})})}function vr(e){var t=e.id,a=e.title,r=E(t),n=r.data,i=r.isSuccess,c=r.isFetching;return i&&!n.length?Object(H.jsx)(lt,{text:"No ".concat(a," found")}):c?Object(H.jsx)(lr,{}):i&&n.length>0&&Object(H.jsx)(ue,{children:n.map((function(e){return Object(H.jsx)(fr,{data:e,id:e.id},e.id)}))})}function Or(e){var t=e.id,a=e.title,r=L(t),n=r.data,i=r.isSuccess,c=r.isFetching,o=null===n||void 0===n?void 0:n.results;return i&&!o.length?Object(H.jsx)(lt,{text:"No ".concat(a," found")}):c?Object(H.jsx)(lr,{}):i&&o.length>0&&Object(H.jsx)(ue,{children:o.map((function(e){return Object(H.jsx)(ot,{type:"movie",data:e,id:e.id},e.id)}))})}function xr(e){var t=e.id,a=e.title,r=U(t),n=r.data,i=r.isSuccess,c=r.isFetching,o=null===n||void 0===n?void 0:n.results;return i&&!o.length?Object(H.jsx)(lt,{text:"No ".concat(a," found")}):c?Object(H.jsx)(lr,{}):i&&o.length>0&&Object(H.jsx)(ue,{children:o.map((function(e){return Object(H.jsx)(ot,{type:"movie",data:e,id:e.id},e.id)}))})}function yr(){var e,t=Object(o.useParams)().id,a=Object(se.useLocation)().pathname,n=null===(e=Object(se.useLocation)().state)||void 0===e?void 0:e.fromSuggest,i=Object(s.d)(),c=R(t),l=c.data,u=c.isSuccess,d=u&&l,p=d.poster,j=d.title,h=Object(s.e)((function(e){return e.auth.currentUser}));return Object(r.useEffect)((function(){u&&n&&i(Vt({type:"fromSuggest",id:t,path:a,currentUser:h,poster:p,title:j}))}),[u,t]),Object(H.jsxs)(H.Fragment,{children:[u&&Object(H.jsx)(Xa,{data:l}),Object(H.jsxs)(tr,{category:"movie",children:[Object(H.jsx)(ur,{id:t,title:"images"}),Object(H.jsx)(br,{id:t,title:"trailers"}),Object(H.jsx)(vr,{id:t,title:"actors"}),Object(H.jsx)(Or,{id:t,title:"similar"}),Object(H.jsx)(xr,{id:t,title:"recommendations"})]})]})}var wr=Object(he.d)({name:"app",initialState:{init:!1},reducers:{init:function(e){e.init=!0}}}),Sr=wr.reducer,Nr=wr.actions.init,Cr=a(423),Ir=a(420),kr=a(104),Rr=a.n(kr),Fr=a(105),qr=a(57),Er=Object(M.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},container:{padding:"24px 24px 24px 0"}}})),_r=qr.a({email:qr.b("Enter your email").email("Enter a valid email").required("Email is required"),password:qr.b("Enter your password").min(4,"Password is too short - should be 4 chars minimum").required("Password is required")});function Br(){var e=Er(),t=Object(s.e)((function(e){return e.auth.users})),a=Object(o.useHistory)(),r=Object(s.d)(),n=Object(Fr.a)({initialValues:{email:"",password:""},validationSchema:_r,onSubmit:function(e){var i;return r(qe(e)),(null===t||void 0===t?void 0:t[e.email])?(null===t||void 0===t||null===(i=t[e.email])||void 0===i?void 0:i.password)!==e.password?n.setFieldError("password","Incorrect password, please, check again"):void a.push("/"):n.setFieldError("email","No user with such email in db, create an account")}});return Object(H.jsx)(Wa.a,{component:"main",maxWidth:"xs",className:e.container,children:Object(H.jsxs)("div",{className:e.paper,children:[Object(H.jsx)(Cr.a,{className:e.avatar,children:Object(H.jsx)(Rr.a,{})}),Object(H.jsx)(T.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(H.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:n.handleSubmit,children:[Object(H.jsx)(Ir.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:n.values.email,onChange:n.handleChange,error:n.touched.email&&Boolean(n.errors.email),helperText:n.touched.email&&n.errors.email}),Object(H.jsx)(Ir.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:n.values.password,onChange:n.handleChange,error:n.touched.password&&Boolean(n.errors.password),helperText:n.touched.password&&n.errors.password}),Object(H.jsx)(xe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign In"})]}),Object(H.jsx)(le.a,{container:!0,style:{justifyContent:"end"},children:Object(H.jsx)(le.a,{item:!0,children:Object(H.jsx)(We.a,{component:c.b,to:"/signup",variant:"body2",onMouseDown:function(){return a.push("/signup")},children:"Don't have an account? Sign Up"})})})]})})}var Ar=Object(M.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},container:{padding:"24px 24px 24px 0"}}})),Pr=qr.a({firstName:qr.b("Enter your first name").required("First name is required"),lastName:qr.b("Enter your last name").required("Last name is required"),email:qr.b("Enter your email").email("Enter a valid email").required("Email is required"),password:qr.b("Enter your password").min(4,"Password is too short - should be 4 chars minimum").required("Password is required")});function Lr(){var e=Ar(),t=Object(s.d)(),a=Object(s.e)((function(e){return e.auth.users})),r=Object(o.useHistory)(),n=Object(Fr.a)({initialValues:{firstName:"",lastName:"",email:"",password:""},validationSchema:Pr,onSubmit:function(e){(null===a||void 0===a?void 0:a[e.email])?n.setFieldError("email","This email has already been taken, please, sign in"):(t(Be(e)),r.push("/signin"))}});return Object(H.jsx)(Wa.a,{component:"main",maxWidth:"xs",className:e.container,children:Object(H.jsxs)("div",{className:e.paper,children:[Object(H.jsx)(Cr.a,{className:e.avatar,children:Object(H.jsx)(Rr.a,{})}),Object(H.jsx)(T.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(H.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:n.handleSubmit,children:[Object(H.jsxs)(le.a,{container:!0,spacing:2,children:[Object(H.jsx)(le.a,{item:!0,xs:12,sm:6,children:Object(H.jsx)(Ir.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,value:n.values.firstName,onChange:n.handleChange,error:n.touched.firstName&&Boolean(n.errors.firstName),helperText:n.touched.firstName&&n.errors.firstName})}),Object(H.jsx)(le.a,{item:!0,xs:12,sm:6,children:Object(H.jsx)(Ir.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",value:n.values.lastName,onChange:n.handleChange,error:n.touched.lastName&&Boolean(n.errors.lastName),helperText:n.touched.lastName&&n.errors.lastName})}),Object(H.jsx)(le.a,{item:!0,xs:12,children:Object(H.jsx)(Ir.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:n.values.email,onChange:n.handleChange,error:n.touched.email&&Boolean(n.errors.email),helperText:n.touched.email&&n.errors.email})}),Object(H.jsx)(le.a,{item:!0,xs:12,children:Object(H.jsx)(Ir.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:n.values.password,onChange:n.handleChange,error:n.touched.password&&Boolean(n.errors.password),helperText:n.touched.password&&n.errors.password})})]}),Object(H.jsx)(xe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign Up"}),Object(H.jsx)(le.a,{container:!0,justifyContent:"flex-end",children:Object(H.jsx)(le.a,{item:!0,children:Object(H.jsx)(We.a,{component:c.b,to:"/signin",variant:"body2",children:"Already have an account? Sign in"})})})]})]})})}var Ur=a(194),Wr=["component"];function Mr(e){var t=e.component,a=Object(Ur.a)(e,Wr),r=Object(s.e)((function(e){return e.auth.isSignedIn}));return Object(H.jsx)(o.Route,Object(Ke.a)(Object(Ke.a)({},a),{},{render:function(e){return r?Object(H.jsx)(t,Object(Ke.a)({},e)):Object(H.jsx)(o.Redirect,{to:"/signin"})}}))}var Tr=a.p+"static/media/search_error.c731c595.png";function zr(){var e=Object(s.d)(),t=Object(s.e)((function(e){return e.search.searchResults})),a=Object(s.e)((function(e){return e.auth.currentUser})),n=W(),i=Object(Le.a)(n,2),c=i[0],l=i[1],u=l.data,d=l.isSuccess,p=l.isError,j=l.isFetching,h=null===t||void 0===t?void 0:t.results,m=null===t||void 0===t?void 0:t.totalPages,b=new URLSearchParams(Object(o.useLocation)().search),g=b.get("q"),f=b.get("page"),v=b.get("genres"),O=b.get("year"),x=Object(o.useLocation)(),y=x.pathname,w=x.search,S=x.state,N=Object(o.useHistory)();Object(r.useLayoutEffect)((function(){if(!g&&!v&&!O)return N.push("/s");e(Lt(null)),c({query:g,page:f,genres:v,year:O})}),[g,f,v,O]),Object(r.useEffect)((function(){d&&(e(Lt(u)),e(Yt(u.totalResults)),(null===S||void 0===S?void 0:S.fromFilters)&&e(Vt({type:"fromFilters",id:w,path:y+w,currentUser:a,genres:v,year:O})));return function(){e(Yt(null))}}),[d,u,a]);return!(null===h||void 0===h?void 0:h.length)||m&&!p?j?Object(H.jsx)(pt,{cardsCount:20}):(null===h||void 0===h?void 0:h.length)>0&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(Oe,{deps:[f,g]}),Object(H.jsx)(ue,{children:h.map((function(e){return Object(H.jsx)(ot,{type:"movie",data:e,id:e.id},e.id)}))}),m>1&&Object(H.jsx)(je,{count:m,page:Number(f),handlePageChange:function(t,a){if(e(Lt(null)),g)return N.push("".concat(y,"?q=").concat(g,"&page=").concat(a));N.push("".concat(y,"?&genres=").concat(v,"&page=").concat(a))}}),Object(H.jsx)(Pe,{})]}):Object(H.jsx)(lt,{image:Tr,text:"NO RESULTS"})}var Hr={28:"action",12:"adventure",16:"animation",35:"comedy",80:"crime",99:"documentary",18:"drama",10751:"family",14:"fantasy",36:"history",27:"horror",53:"thriller",878:"sci-fi",37:"western"},Vr=a(418),Gr=a(196),Qr=a(429),Yr=Object(la.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",border:"1px solid ".concat(e.palette.divider)},grouped:{border:"none","&:not(:first-child)":{borderRadius:e.shape.borderRadius},"&:first-child":{borderRadius:e.shape.borderRadius}}}}))(Qr.a),Dr=Object(M.a)((function(e){return{wrapper:{marginBottom:32}}}));function Zr(e){var t=e.children,a=e.onChange,r=e.value,n=e.title,i=Dr();return Object(H.jsxs)("div",{className:i.wrapper,children:[Object(H.jsx)(T.a,{variant:"h6",color:"primary",gutterBottom:!0,children:n}),Object(H.jsx)(Gr.a,{elevation:0,children:Object(H.jsx)(Yr,{size:"small",value:r,onChange:a,"aria-label":"text alignment",children:t})})]})}var Jr=Object(M.a)((function(e){return{toggleBtn:{flexGrow:1,margin:4}}}));function $r(){var e=Jr(),t=Object(s.d)(),a=Object(s.e)((function(e){return e.search.selectedGenres}));return Object(H.jsx)(Zr,{onChange:function(e,r){t(Wt(r)),t(Mt(a))},value:a,title:"Select genres",children:Object.keys(Hr).map((function(t){return Object(H.jsx)(Vr.a,{value:t,"aria-label":t,className:e.toggleBtn,children:Hr[t]},t)}))})}function Kr(){var e=Object(s.d)(),t=Object(s.e)((function(e){return e.search.enteredYear})),a=Object(s.e)((function(e){return e.search.isYearValid}));return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(T.a,{variant:"h6",color:"primary",gutterBottom:!0,children:"Enter year"}),Object(H.jsx)(Ir.a,{variant:"outlined",size:"small",fullWidth:!0,value:t,error:!a,onChange:function(a){e(zt(a.target.value)),e(Ht(a.target.value)),e(Mt(t))}})]})}var Xr=Object(M.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},container:{padding:"24px 24px 24px 0",maxWidth:650},clear:{justifyContent:"end"},buttonProgress:{color:e.palette.primary.dark,position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function en(){var e=Xr(),t=Object(s.d)(),a=Object(se.useHistory)(),r=Object(s.e)((function(e){return e.search.filterQuery})),n=r.genres,i=r.year,c=Object(s.e)((function(e){return e.search.isYearValid})),o=!n&&!i;return Object(H.jsxs)(Wa.a,{component:"main",maxWidth:"xs",className:e.container,children:[Object(H.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(){(n||i)&&(c?a.push({pathname:"/search",search:"?&genres=".concat(n,"&year=").concat(i,"&page=1"),state:{fromFilters:!0}}):Ie.c.error("Enter a valid year, please"))},children:[Object(H.jsx)($r,{}),Object(H.jsx)(Kr,{}),Object(H.jsx)(xe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:o,children:"search"})]}),Object(H.jsx)(le.a,{container:!0,className:e.clear,children:Object(H.jsx)(le.a,{item:!0,children:Object(H.jsx)(xe.a,{disabled:o,color:"primary",onClick:function(){return t(Tt())},children:"Clear filters"})})})]})}var tn=Object(M.a)((function(e){return{mainWrapper:{display:"flex",marginBottom:80,minHeight:450},image:{height:450,marginRight:24},textWrapper:{boxSizing:"border-box",width:"60%"},pointCell:{width:96,verticalAlign:"top",maxHeight:160,overflow:"hidden"}}})),an=["birthday","deathday","birthplace","biography"];function rn(e){var t=e.data,a=tn(),r=t.photo,n=t.name;return Object(H.jsxs)("div",{className:a.mainWrapper,children:[Object(H.jsx)("img",{className:a.image,src:r,alt:n}),Object(H.jsxs)("div",{className:a.textWrapper,children:[Object(H.jsx)(T.a,{variant:"h4",color:"textSecondary",gutterBottom:!0,children:n}),Object(H.jsx)("table",{children:Object(H.jsx)("tbody",{children:an.map((function(e){return Object(H.jsxs)("tr",{children:[Object(H.jsx)("td",{className:a.pointCell,children:Ka(e,":")}),Object(H.jsx)("td",{children:Ka(t[e]||"-")})]},e)}))})})]})]})}function nn(e){var t=e.id,a=e.title,r=A(t),n=r.data,i=r.isSuccess,c=r.isFetching;return i&&!n.length?Object(H.jsx)(lt,{text:"No ".concat(a," found")}):c?Object(H.jsx)(lr,{}):i&&Object(H.jsx)(cr,{imgUrlsArray:n})}function cn(e){var t=e.id,a=e.title,r=P(t),n=r.data,i=r.isSuccess,c=r.isFetching;return i&&!n.length?Object(H.jsx)(lt,{text:"No ".concat(a," found")}):c?Object(H.jsx)(lr,{}):i&&n.length>0&&Object(H.jsx)(ue,{children:n.map((function(e){return Object(H.jsx)(ot,{type:"movie",data:e,id:e.id},e.id)}))})}function on(){var e=Object(o.useParams)().id,t=B(e),a=t.data,r=t.isSuccess;return Object(H.jsxs)(H.Fragment,{children:[r&&Object(H.jsx)(rn,{data:a}),Object(H.jsxs)(tr,{category:"actor",children:[Object(H.jsx)(nn,{id:e,title:"photos"}),Object(H.jsx)(cn,{id:e,title:"movies"})]})]})}var sn=a(427),ln=Object(M.a)((function(e){return{root:{position:"relative"},wrapper:{backgroundColor:e.palette.info.light,overflow:"hidden",width:"100%",height:0,paddingTop:"150.27%",position:"relative"},chipWrapper:{position:"absolute",inset:12},chip:{width:"100%",marginBottom:12,pointerEvents:"none",color:"#fff"},year:{backgroundColor:e.palette.secondary.light},genre:{backgroundColor:e.palette.action.active}}}));function un(e){var t=e.data,a=ln(),r=t.id,n=t.year,i=t.genres,o=t.path;return Object(H.jsx)(le.a,{item:!0,xs:6,md:4,lg:3,xl:2,className:a.root,children:Object(H.jsx)(We.a,{component:c.b,to:o,children:Object(H.jsx)("div",{className:a.wrapper,children:Object(H.jsxs)("div",{className:a.chipWrapper,children:[i&&i.split(",").map((function(e,t){return Object(H.jsx)(sn.a,{className:re()(a.chip,a.genre),label:(r=e,n=Hr,n[r])},t);var r,n})),n&&Object(H.jsx)(sn.a,{className:re()(a.chip,a.year),label:n},r)]})})})})}var dn=a.p+"static/media/no-search-history.4dca89d2.png",pn=Object(M.a)((function(e){return{btn:{marginBottom:16,width:"fit-content",alignSelf:"flex-end"}}}));function jn(){var e,t=pn(),a=Object(s.e)((function(e){return e.search.history})),r=Boolean(null===(e=Object.keys(a))||void 0===e?void 0:e.length),n=Object(s.d)();return r?r&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(xe.a,{className:t.btn,onClick:function(){return n(Qt())},children:"clear history"}),Object(H.jsx)(ue,{children:Object.keys(a).map((function(e){var t=a[e];return"fromSuggest"===t.type?Object(H.jsx)(ot,{data:t},e):Object(H.jsx)(un,{data:t},e)}))})]}):Object(H.jsx)(lt,{image:dn,text:"No search history yet"})}function hn(){return Object(s.d)()(Nr()),Object(H.jsxs)(c.a,{basename:"/",children:[Object(H.jsx)(Za,{children:Object(H.jsxs)(o.Switch,{children:[Object(H.jsx)(o.Route,{exact:!0,path:"/",component:oe}),Object(H.jsx)(o.Route,{path:"/s",component:en}),Object(H.jsx)(o.Route,{path:"/search",component:zr}),Object(H.jsx)(o.Route,{path:"/movie/:id/:tab/",component:yr}),Object(H.jsx)(o.Route,{path:"/actor/:id/:tab/",component:on}),Object(H.jsx)(o.Route,{path:"/:list/:page",component:mt}),Object(H.jsx)(o.Route,{path:"/signin",component:Br}),Object(H.jsx)(o.Route,{path:"/signup",component:Lr}),Object(H.jsx)(Mr,{path:"/favorite",component:xt}),Object(H.jsx)(Mr,{path:"/history",component:jn,showModal:!0})]})}),Object(H.jsx)(Ie.b,{position:"top-right",transition:Ie.a,autoClose:2e3,hideProgressBar:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!0,pauseOnHover:!1})]})}var mn=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,430)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),i(e),c(e)}))};function bn(e,t,a){if(!t)try{return JSON.parse(localStorage.getItem(e))}catch(r){return a||r}localStorage.setItem(e,JSON.stringify(t))}var gn=function(e){return function(t){return function(a){t(a);var r=!0===e.getState().auth.isSignedIn,n=e.getState().auth.currentUser;if(fe.match(a)&&bn("pages",e.getState().pages),at.match(a)&&r){var i=e.getState().movies.favorites,c=Object(Ke.a)(Object(Ke.a)({},bn("favorites")),{},Object($e.a)({},n,i));bn("favorites",c)}if(Nr.match(a)){var o,s,l=bn("pages"),u=bn("users"),d=bn("isSignedIn"),p=bn("currentUser");e.dispatch(Ae({users:u,isSignedIn:d,currentUser:p})),e.dispatch(ve(l));var j=e.getState().auth.currentUser,h=null===(o=bn("favorites"))||void 0===o?void 0:o[j],m=null===(s=bn("history"))||void 0===s?void 0:s[j];e.dispatch(rt(h)),e.dispatch(Gt(m))}Be.match(a)&&bn("users",e.getState().auth.users);if(qe.match(a)||Ee.match(a)){var b,g,f=e.getState().auth.isSignedIn;localStorage.setItem("isSignedIn",JSON.stringify(f)),localStorage.setItem("currentUser",JSON.stringify(n));var v=null===(b=bn("favorites"))||void 0===b?void 0:b[n],O=null===(g=bn("history"))||void 0===g?void 0:g[n];e.dispatch(rt(v)),e.dispatch(Gt(O))}if(Ee.match(a)&&(e.dispatch(nt()),e.dispatch(Qt())),Qt.match(a)&&bn("history",{}),Vt.match(a)&&r){var x=e.getState().search.history,y=Object(Ke.a)(Object(Ke.a)({},bn("favorites")),{},Object($e.a)({},n,x));bn("history",y)}}}},fn=["movies/toggleFavorites","app/triggerAuthModal"],vn=function(e){return function(t){return function(a){t(a);var r=!1===e.getState().auth.isSignedIn,n=fn.includes(a.type);r&&n&&("movies/toggleFavorites"===a.type&&e.dispatch(_e(!0)),"app/triggerAuthModal"===a.type&&e.dispatch(_e(!0)))}}},On=Object(he.a)({reducer:Object($e.a)({app:Sr,auth:Re,pages:be,movies:et,search:_t},C.reducerPath,C.reducer),middleware:function(e){return e().concat(C.middleware,vn,gn)}});i.a.render(Object(H.jsx)(s.a,{store:On,children:Object(H.jsx)(hn,{})}),document.getElementById("root")),mn()}},[[344,1,2]]]);
//# sourceMappingURL=main.68680641.chunk.js.map